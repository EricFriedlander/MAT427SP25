{
  "hash": "0ac70537a80f0966ee105ca464624c24",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: 'MAT-427: KNN + Preprocessing'\nauthor: Eric Friedlander\nfooter: \"[ðŸ”— MAT 427 - Spring 2025 -  Schedule](https://mat427sp25.netlify.app/schedule)\"\nlogo: \"../images/logo.png\"\nformat: \n  revealjs:\n    theme: slides.scss\n    multiplex: false\n    transition: fade\n    slide-number: false\n    incremental: false \n    chalkboard: true\nexecute:\n  freeze: auto\n  echo: true\nknitr:\n  opts_chunk: \n    R.options:      \n    width: 200\n---\n\n\n\n\n\n## Computational Setup\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidymodels)\nlibrary(knitr)\nlibrary(readODS)\nlibrary(modeldata) # contains ames dataset\n\ntidymodels_prefer()\n```\n:::\n\n\n\n\n\n## Comparing Models: Data Splitting with `tidymodels` {.smaller}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(427) # Why?\n\names_split <- initial_split(ames, prop = 0.70, strata = Sale_Price) # initialize 70/30\names_split\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n<Training/Testing/Total>\n<2049/881/2930>\n```\n\n\n:::\n\n```{.r .cell-code}\names_train <- training(ames_split) # get training data\names_test <- testing(ames_split) # get test data\n```\n:::\n\n\n\n\n\n\n## [K-Nearest Neighbors Regression (multiple predictors)]{.r-fit-text} {.smaller}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\names |>\n  select(Sale_Price, Gr_Liv_Area, Bedroom_AbvGr) |>\n  head() |> \n  kable()\n```\n\n::: {.cell-output-display}\n\n\n| Sale_Price| Gr_Liv_Area| Bedroom_AbvGr|\n|----------:|-----------:|-------------:|\n|     215000|        1656|             3|\n|     105000|         896|             2|\n|     172000|        1329|             3|\n|     244000|        2110|             3|\n|     189900|        1629|             3|\n|     195500|        1604|             3|\n\n\n:::\n:::\n\n\n\n:::{.incremental}\n- Should 1 square foot count the same as 1 bedroom?\n- Need to **center and scale** (freq. just say scale)\n  + subtract mean from each predictor\n  + divide by standard deviation of each predictor\n  + compares apples-to-apples\n:::\n\n# Why center and scale\n\n## New observation\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nnew_house <- tibble(Gr_Liv_Area = 2000, Bedroom_AbvGr = 2)\nggplot(ames_train, aes(x = Gr_Liv_Area, y = Bedroom_AbvGr, color = Sale_Price)) + \n  geom_point() +\n  geom_point(data = new_house, color = \"red\")\n```\n\n::: {.cell-output-display}\n![](06-knn-workflows_files/figure-revealjs/unnamed-chunk-3-1.png){width=960}\n:::\n:::\n\n\n\n\n-   Where do you think the 10 nearest neighbors *should* be?\n\n## Computing Distances\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\names_dist <- ames_train |> \n  mutate(dist = sqrt((Gr_Liv_Area - 2000)^2 + (Bedroom_AbvGr-2)^2)) |> \n  arrange(dist)\n```\n:::\n\n\n\n\n## 10 \"Nearest Neighbors\"\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nggplot(ames_train, aes(x = Gr_Liv_Area, y = Bedroom_AbvGr, color = Sale_Price)) + \n  geom_point() +\n  geom_point(data = new_house, color = \"red\") +\n  geom_point(data = ames_dist |> slice(1:10), color = \"green\")\n```\n\n::: {.cell-output-display}\n![](06-knn-workflows_files/figure-revealjs/unnamed-chunk-5-1.png){width=960}\n:::\n:::\n\n\n\n\n-   Are they where you thought they *should* be?\n\n## Looking at distances {.smaller}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\names_dist |>\n  select(Gr_Liv_Area, Bedroom_AbvGr, dist) |> \n  kable()\n```\n\n::: {.cell-output-display}\n\n\n| Gr_Liv_Area| Bedroom_AbvGr|        dist|\n|-----------:|-------------:|-----------:|\n|        2000|             3|    1.000000|\n|        2000|             3|    1.000000|\n|        2004|             4|    4.472136|\n|        1995|             4|    5.385165|\n|        2006|             2|    6.000000|\n|        2007|             3|    7.071068|\n|        2007|             3|    7.071068|\n|        1992|             3|    8.062258|\n|        2008|             3|    8.062258|\n|        1991|             3|    9.055385|\n|        1991|             4|    9.219544|\n|        2009|             4|    9.219544|\n|        2009|             4|    9.219544|\n|        1988|             4|   12.165525|\n|        1987|             2|   13.000000|\n|        2014|             2|   14.000000|\n|        1986|             3|   14.035669|\n|        2014|             3|   14.035669|\n|        1986|             4|   14.142136|\n|        2014|             5|   14.317821|\n|        2016|             4|   16.124516|\n|        1984|             5|   16.278821|\n|        1983|             3|   17.029386|\n|        2018|             3|   18.027756|\n|        1982|             3|   18.027756|\n|        2019|             3|   19.026298|\n|        1981|             4|   19.104973|\n|        1981|             4|   19.104973|\n|        2020|             3|   20.024984|\n|        2020|             3|   20.024984|\n|        2020|             3|   20.024984|\n|        1980|             3|   20.024984|\n|        2021|             3|   21.023796|\n|        1978|             2|   22.000000|\n|        1978|             4|   22.090722|\n|        2022|             4|   22.090722|\n|        1977|             3|   23.021729|\n|        1976|             2|   24.000000|\n|        1973|             3|   27.018512|\n|        2028|             2|   28.000000|\n|        1971|             3|   29.017236|\n|        1970|             3|   30.016662|\n|        2031|             3|   31.016125|\n|        2031|             3|   31.016125|\n|        1968|             4|   32.062439|\n|        1968|             4|   32.062439|\n|        2034|             2|   34.000000|\n|        2034|             3|   34.014703|\n|        1966|             1|   34.014703|\n|        2035|             3|   35.014283|\n|        2036|             3|   36.013886|\n|        1964|             3|   36.013886|\n|        1964|             3|   36.013886|\n|        1964|             4|   36.055513|\n|        1964|             4|   36.055513|\n|        2037|             3|   37.013511|\n|        1962|             3|   38.013156|\n|        1962|             4|   38.052595|\n|        1960|             3|   40.012498|\n|        1960|             4|   40.049969|\n|        1959|             4|   41.048752|\n|        1959|             5|   41.109610|\n|        2042|             3|   42.011903|\n|        1958|             3|   42.011903|\n|        2042|             3|   42.011903|\n|        1958|             3|   42.011903|\n|        1958|             4|   42.047592|\n|        1955|             4|   45.044423|\n|        2046|             2|   46.000000|\n|        2046|             3|   46.010868|\n|        2046|             3|   46.010868|\n|        1954|             3|   46.010868|\n|        1953|             3|   47.010637|\n|        2048|             3|   48.010416|\n|        1952|             4|   48.041649|\n|        2048|             5|   48.093659|\n|        2049|             4|   49.040799|\n|        2050|             4|   50.039984|\n|        2052|             3|   52.009614|\n|        1948|             4|   52.038447|\n|        1947|             3|   53.009433|\n|        2054|             3|   54.009259|\n|        1944|             3|   56.008928|\n|        1944|             3|   56.008928|\n|        1944|             4|   56.035703|\n|        2057|             3|   57.008771|\n|        2058|             3|   58.008620|\n|        1940|             3|   60.008333|\n|        2060|             3|   60.008333|\n|        2060|             4|   60.033324|\n|        2061|             3|   61.008196|\n|        1939|             3|   61.008196|\n|        1939|             3|   61.008196|\n|        2061|             4|   61.032778|\n|        1938|             4|   62.032250|\n|        2064|             3|   64.007812|\n|        1936|             3|   64.007812|\n|        2064|             4|   64.031242|\n|        1935|             3|   65.007692|\n|        1935|             3|   65.007692|\n|        1934|             3|   66.007575|\n|        2067|             3|   67.007462|\n|        1933|             4|   67.029844|\n|        1932|             2|   68.000000|\n|        2068|             3|   68.007352|\n|        1932|             3|   68.007352|\n|        2069|             4|   69.028979|\n|        1930|             4|   70.028566|\n|        1929|             3|   71.007042|\n|        2071|             4|   71.028163|\n|        1928|             4|   72.027772|\n|        1928|             4|   72.027772|\n|        2073|             3|   73.006849|\n|        1923|             3|   77.006493|\n|        1922|             2|   78.000000|\n|        2078|             3|   78.006410|\n|        1922|             3|   78.006410|\n|        1922|             4|   78.025637|\n|        1921|             4|   79.025312|\n|        1920|             4|   80.024996|\n|        1920|             4|   80.024996|\n|        1920|             4|   80.024996|\n|        1916|             3|   84.005952|\n|        1915|             3|   85.005882|\n|        1914|             3|   86.005814|\n|        1913|             3|   87.005747|\n|        1912|             3|   88.005682|\n|        2088|             4|   88.022724|\n|        1911|             3|   89.005618|\n|        2090|             3|   90.005555|\n|        2090|             3|   90.005555|\n|        1909|             4|   91.021975|\n|        1908|             4|   92.021737|\n|        1908|             4|   92.021737|\n|        2093|             3|   93.005376|\n|        1906|             3|   94.005319|\n|        1905|             3|   95.005263|\n|        1904|             3|   96.005208|\n|        1904|             3|   96.005208|\n|        2097|             3|   97.005155|\n|        2097|             1|   97.005155|\n|        2097|             3|   97.005155|\n|        2098|             3|   98.005102|\n|        1902|             4|   98.020406|\n|        1902|             4|   98.020406|\n|        2098|             4|   98.020406|\n|        2100|             3|  100.005000|\n|        1898|             3|  102.004902|\n|        2104|             5|  104.043260|\n|        1895|             3|  105.004762|\n|        1894|             4|  106.018866|\n|        2108|             4|  108.018517|\n|        1891|             3|  109.004587|\n|        2110|             3|  110.004545|\n|        1889|             4|  111.018017|\n|        1886|             4|  114.017543|\n|        1884|             2|  116.000000|\n|        1884|             2|  116.000000|\n|        1884|             4|  116.017240|\n|        1882|             4|  118.016948|\n|        1880|             3|  120.004167|\n|        1879|             3|  121.004132|\n|        2121|             3|  121.004132|\n|        2122|             4|  122.016392|\n|        1877|             4|  123.016259|\n|        1876|             4|  124.016128|\n|        2125|             4|  125.015999|\n|        2126|             3|  126.003968|\n|        1874|             3|  126.003968|\n|        2127|             3|  127.003937|\n|        1873|             3|  127.003937|\n|        1873|             4|  127.015747|\n|        1872|             3|  128.003906|\n|        2128|             4|  128.015624|\n|        1872|             4|  128.015624|\n|        1869|             2|  131.000000|\n|        1869|             2|  131.000000|\n|        1868|             3|  132.003788|\n|        2132|             1|  132.003788|\n|        1868|             4|  132.015151|\n|        1867|             2|  133.000000|\n|        2133|             4|  133.015037|\n|        1866|             2|  134.000000|\n|        1866|             4|  134.014925|\n|        2134|             5|  134.033578|\n|        1865|             3|  135.003704|\n|        2136|             4|  136.014705|\n|        1864|             6|  136.058811|\n|        1863|             4|  137.014598|\n|        1861|             3|  139.003597|\n|        2140|             3|  140.003571|\n|        2140|             4|  140.014285|\n|        2142|             4|  142.014084|\n|        1856|             1|  144.003472|\n|        2144|             4|  144.013888|\n|        1852|             3|  148.003378|\n|        2149|             1|  149.003356|\n|        1848|             3|  152.003289|\n|        2153|             3|  153.003268|\n|        1846|             3|  154.003247|\n|        1846|             3|  154.003247|\n|        1845|             3|  155.003226|\n|        1844|             2|  156.000000|\n|        1844|             3|  156.003205|\n|        1844|             3|  156.003205|\n|        2156|             3|  156.003205|\n|        1844|             3|  156.003205|\n|        2157|             4|  157.012738|\n|        1842|             3|  158.003164|\n|        2158|             4|  158.012658|\n|        1840|             3|  160.003125|\n|        2161|             3|  161.003106|\n|        1839|             4|  161.012422|\n|        1839|             4|  161.012422|\n|        1838|             3|  162.003086|\n|        1838|             3|  162.003086|\n|        1836|             3|  164.003049|\n|        1836|             3|  164.003049|\n|        1836|             4|  164.012195|\n|        2167|             3|  167.002994|\n|        1832|             4|  168.011904|\n|        2168|             5|  168.026784|\n|        2169|             3|  169.002959|\n|        1830|             3|  170.002941|\n|        1829|             4|  171.011696|\n|        1828|             3|  172.002907|\n|        1828|             3|  172.002907|\n|        1828|             3|  172.002907|\n|        1828|             3|  172.002907|\n|        2172|             4|  172.011628|\n|        1827|             2|  173.000000|\n|        1826|             3|  174.002873|\n|        1824|             3|  176.002841|\n|        1824|             4|  176.011363|\n|        1824|             5|  176.025566|\n|        1823|             3|  177.002825|\n|        2177|             5|  177.025422|\n|        1822|             3|  178.002809|\n|        1822|             4|  178.011236|\n|        1820|             3|  180.002778|\n|        1820|             3|  180.002778|\n|        2180|             3|  180.002778|\n|        1820|             4|  180.011111|\n|        1820|             4|  180.011111|\n|        1818|             3|  182.002747|\n|        1818|             4|  182.010989|\n|        2183|             4|  183.010929|\n|        2184|             3|  184.002717|\n|        1816|             3|  184.002717|\n|        2184|             4|  184.010869|\n|        1812|             3|  188.002660|\n|        1812|             3|  188.002660|\n|        1812|             4|  188.010638|\n|        1811|             2|  189.000000|\n|        1809|             3|  191.002618|\n|        2192|             4|  192.010416|\n|        1806|             4|  194.010309|\n|        1804|             3|  196.002551|\n|        2196|             3|  196.002551|\n|        1803|             3|  197.002538|\n|        1803|             3|  197.002538|\n|        2197|             4|  197.010152|\n|        1802|             3|  198.002525|\n|        1802|             3|  198.002525|\n|        1802|             4|  198.010101|\n|        2198|             4|  198.010101|\n|        1801|             3|  199.002512|\n|        1801|             3|  199.002512|\n|        1800|             2|  200.000000|\n|        2200|             3|  200.002500|\n|        1800|             3|  200.002500|\n|        1798|             4|  202.009901|\n|        2202|             4|  202.009901|\n|        1797|             3|  203.002463|\n|        1797|             3|  203.002463|\n|        1797|             3|  203.002463|\n|        1796|             3|  204.002451|\n|        1795|             3|  205.002439|\n|        1795|             3|  205.002439|\n|        1795|             4|  205.009756|\n|        2207|             3|  207.002415|\n|        1792|             2|  208.000000|\n|        1792|             3|  208.002404|\n|        1792|             3|  208.002404|\n|        1792|             4|  208.009615|\n|        1790|             4|  210.009524|\n|        1789|             3|  211.002370|\n|        1788|             3|  212.002359|\n|        2212|             3|  212.002359|\n|        1788|             5|  212.021225|\n|        1787|             3|  213.002347|\n|        1786|             3|  214.002336|\n|        1786|             3|  214.002336|\n|        1786|             3|  214.002336|\n|        1786|             3|  214.002336|\n|        2214|             3|  214.002336|\n|        1784|             4|  216.009259|\n|        2217|             4|  217.009216|\n|        1782|             3|  218.002294|\n|        1782|             3|  218.002294|\n|        1780|             3|  220.002273|\n|        1779|             3|  221.002262|\n|        1779|             3|  221.002262|\n|        1778|             2|  222.000000|\n|        2223|             3|  223.002242|\n|        1776|             3|  224.002232|\n|        1776|             3|  224.002232|\n|        1776|             4|  224.008928|\n|        2224|             4|  224.008928|\n|        1775|             3|  225.002222|\n|        1775|             3|  225.002222|\n|        2225|             4|  225.008889|\n|        1774|             4|  226.008849|\n|        1773|             3|  227.002203|\n|        1772|             3|  228.002193|\n|        2228|             6|  228.035085|\n|        1771|             3|  229.002183|\n|        1771|             3|  229.002183|\n|        2229|             5|  229.019650|\n|        2230|             5|  230.019564|\n|        1768|             2|  232.000000|\n|        1768|             3|  232.002155|\n|        1768|             3|  232.002155|\n|        1768|             3|  232.002155|\n|        1768|             4|  232.008621|\n|        1767|             2|  233.000000|\n|        2233|             5|  233.019313|\n|        1766|             3|  234.002137|\n|        2234|             3|  234.002137|\n|        1764|             3|  236.002119|\n|        1764|             4|  236.008474|\n|        2236|             4|  236.008474|\n|        1762|             3|  238.002101|\n|        1762|             4|  238.008403|\n|        1760|             4|  240.008333|\n|        2240|             6|  240.033331|\n|        2243|             4|  243.008230|\n|        1756|             3|  244.002049|\n|        1755|             3|  245.002041|\n|        1755|             3|  245.002041|\n|        1755|             4|  245.008163|\n|        1752|             4|  248.008064|\n|        1750|             3|  250.002000|\n|        2250|             3|  250.002000|\n|        1750|             4|  250.008000|\n|        1749|             3|  251.001992|\n|        2253|             3|  253.001976|\n|        1746|             3|  254.001969|\n|        1746|             3|  254.001969|\n|        1744|             3|  256.001953|\n|        2256|             4|  256.007812|\n|        1743|             3|  257.001945|\n|        1743|             3|  257.001945|\n|        1743|             0|  257.007782|\n|        1742|             2|  258.000000|\n|        1742|             4|  258.007752|\n|        2259|             3|  259.001931|\n|        1740|             2|  260.000000|\n|        1740|             2|  260.000000|\n|        2260|             3|  260.001923|\n|        1740|             3|  260.001923|\n|        1740|             4|  260.007692|\n|        1740|             4|  260.007692|\n|        1738|             4|  262.007633|\n|        2262|             4|  262.007633|\n|        1737|             3|  263.001901|\n|        2263|             3|  263.001901|\n|        1734|             2|  266.000000|\n|        1734|             3|  266.001880|\n|        1734|             3|  266.001880|\n|        1734|             3|  266.001880|\n|        1733|             3|  267.001873|\n|        2267|             3|  267.001873|\n|        1733|             4|  267.007491|\n|        2267|             4|  267.007491|\n|        2268|             3|  268.001866|\n|        1730|             3|  270.001852|\n|        1728|             3|  272.001838|\n|        1728|             3|  272.001838|\n|        1728|             3|  272.001838|\n|        1728|             3|  272.001838|\n|        1728|             3|  272.001838|\n|        1728|             4|  272.007353|\n|        1728|             4|  272.007353|\n|        1728|             6|  272.029410|\n|        1728|             6|  272.029410|\n|        1728|             6|  272.029410|\n|        1728|             6|  272.029410|\n|        1728|             6|  272.029410|\n|        1726|             3|  274.001825|\n|        2274|             5|  274.016423|\n|        1725|             3|  275.001818|\n|        1724|             3|  276.001812|\n|        1724|             3|  276.001812|\n|        1724|             3|  276.001812|\n|        2276|             3|  276.001812|\n|        1721|             3|  279.001792|\n|        1721|             3|  279.001792|\n|        1721|             3|  279.001792|\n|        1721|             4|  279.007168|\n|        2279|             4|  279.007168|\n|        1720|             3|  280.001786|\n|        1720|             3|  280.001786|\n|        1719|             1|  281.001779|\n|        1718|             3|  282.001773|\n|        1718|             3|  282.001773|\n|        1718|             3|  282.001773|\n|        1717|             2|  283.000000|\n|        1717|             3|  283.001767|\n|        1717|             3|  283.001767|\n|        2283|             4|  283.007067|\n|        1716|             2|  284.000000|\n|        1716|             3|  284.001761|\n|        1716|             3|  284.001761|\n|        1716|             4|  284.007042|\n|        2285|             4|  285.007018|\n|        1714|             3|  286.001748|\n|        1714|             3|  286.001748|\n|        1712|             4|  288.006944|\n|        2288|             4|  288.006944|\n|        2290|             2|  290.000000|\n|        1710|             3|  290.001724|\n|        2290|             4|  290.006896|\n|        2290|             4|  290.006896|\n|        1709|             2|  291.000000|\n|        1709|             3|  291.001718|\n|        1709|             3|  291.001718|\n|        1709|             3|  291.001718|\n|        1709|             3|  291.001718|\n|        2291|             4|  291.006873|\n|        2291|             4|  291.006873|\n|        1708|             3|  292.001712|\n|        1707|             2|  293.000000|\n|        2294|             5|  294.015306|\n|        2295|             4|  295.006780|\n|        1704|             3|  296.001689|\n|        2296|             3|  296.001689|\n|        1702|             1|  298.001678|\n|        1701|             3|  299.001672|\n|        1701|             4|  299.006689|\n|        1700|             2|  300.000000|\n|        1700|             4|  300.006667|\n|        1699|             3|  301.001661|\n|        1698|             3|  302.001656|\n|        1696|             3|  304.001645|\n|        1696|             3|  304.001645|\n|        1696|             3|  304.001645|\n|        1694|             2|  306.000000|\n|        1694|             3|  306.001634|\n|        1694|             3|  306.001634|\n|        1694|             3|  306.001634|\n|        1694|             4|  306.006536|\n|        1692|             3|  308.001623|\n|        1691|             2|  309.000000|\n|        1691|             3|  309.001618|\n|        1690|             3|  310.001613|\n|        1690|             3|  310.001613|\n|        1690|             4|  310.006452|\n|        1689|             3|  311.001608|\n|        1689|             3|  311.001608|\n|        1689|             3|  311.001608|\n|        1688|             2|  312.000000|\n|        1688|             4|  312.006410|\n|        1687|             3|  313.001597|\n|        1686|             3|  314.001592|\n|        1686|             1|  314.001592|\n|        2314|             3|  314.001592|\n|        1685|             2|  315.000000|\n|        2315|             4|  315.006349|\n|        1684|             2|  316.000000|\n|        1683|             3|  317.001577|\n|        1682|             3|  318.001572|\n|        1682|             1|  318.001572|\n|        2318|             3|  318.001572|\n|        1680|             2|  320.000000|\n|        2320|             2|  320.000000|\n|        1680|             3|  320.001562|\n|        1680|             3|  320.001562|\n|        2320|             3|  320.001562|\n|        1680|             4|  320.006250|\n|        1680|             4|  320.006250|\n|        1680|             4|  320.006250|\n|        2322|             4|  322.006211|\n|        1678|             6|  322.024844|\n|        1677|             3|  323.001548|\n|        2324|             4|  324.006173|\n|        1675|             3|  325.001538|\n|        1675|             3|  325.001538|\n|        1674|             3|  326.001534|\n|        1673|             3|  327.001529|\n|        2327|             4|  327.006116|\n|        1671|             3|  329.001520|\n|        1671|             3|  329.001520|\n|        2329|             4|  329.006079|\n|        1671|             4|  329.006079|\n|        1670|             2|  330.000000|\n|        1670|             3|  330.001515|\n|        1670|             4|  330.006061|\n|        2331|             3|  331.001511|\n|        1669|             4|  331.006042|\n|        1668|             3|  332.001506|\n|        1668|             3|  332.001506|\n|        1668|             3|  332.001506|\n|        2332|             3|  332.001506|\n|        1668|             3|  332.001506|\n|        2332|             4|  332.006024|\n|        1666|             2|  334.000000|\n|        1666|             3|  334.001497|\n|        1666|             3|  334.001497|\n|        2334|             3|  334.001497|\n|        1665|             3|  335.001492|\n|        1664|             3|  336.001488|\n|        1664|             3|  336.001488|\n|        1664|             4|  336.005952|\n|        1664|             4|  336.005952|\n|        1663|             3|  337.001484|\n|        1662|             3|  338.001479|\n|        2338|             4|  338.005917|\n|        1661|             3|  339.001475|\n|        1660|             3|  340.001471|\n|        1660|             3|  340.001471|\n|        2340|             4|  340.005882|\n|        1659|             2|  341.000000|\n|        1659|             3|  341.001466|\n|        1658|             3|  342.001462|\n|        1657|             3|  343.001458|\n|        1657|             3|  343.001458|\n|        1656|             2|  344.000000|\n|        1656|             3|  344.001454|\n|        1654|             3|  346.001445|\n|        1654|             3|  346.001445|\n|        1654|             4|  346.005780|\n|        1653|             3|  347.001441|\n|        1652|             2|  348.000000|\n|        1652|             2|  348.000000|\n|        1652|             3|  348.001437|\n|        1652|             3|  348.001437|\n|        1652|             3|  348.001437|\n|        1652|             4|  348.005747|\n|        1652|             4|  348.005747|\n|        1651|             4|  349.005731|\n|        1648|             2|  352.000000|\n|        1647|             3|  353.001416|\n|        1647|             3|  353.001416|\n|        2353|             4|  353.005666|\n|        1646|             2|  354.000000|\n|        1646|             2|  354.000000|\n|        1646|             2|  354.000000|\n|        1646|             2|  354.000000|\n|        1646|             3|  354.001412|\n|        1646|             3|  354.001412|\n|        1644|             3|  356.001404|\n|        1642|             3|  358.001397|\n|        2358|             4|  358.005586|\n|        1642|             4|  358.005586|\n|        2358|             4|  358.005586|\n|        1641|             3|  359.001393|\n|        1641|             3|  359.001393|\n|        1640|             3|  360.001389|\n|        1640|             3|  360.001389|\n|        1640|             3|  360.001389|\n|        1640|             3|  360.001389|\n|        1639|             3|  361.001385|\n|        1638|             2|  362.000000|\n|        1638|             3|  362.001381|\n|        2362|             3|  362.001381|\n|        2364|             2|  364.000000|\n|        1636|             3|  364.001374|\n|        1636|             3|  364.001374|\n|        1635|             2|  365.000000|\n|        1635|             3|  365.001370|\n|        2365|             3|  365.001370|\n|        1634|             3|  366.001366|\n|        1633|             3|  367.001362|\n|        1632|             3|  368.001359|\n|        1632|             4|  368.005435|\n|        1632|             4|  368.005435|\n|        1632|             4|  368.005435|\n|        1630|             3|  370.001351|\n|        1630|             3|  370.001351|\n|        1630|             3|  370.001351|\n|        1629|             3|  371.001348|\n|        1629|             3|  371.001348|\n|        1629|             3|  371.001348|\n|        1628|             3|  372.001344|\n|        2372|             4|  372.005376|\n|        1627|             4|  373.005362|\n|        1626|             2|  374.000000|\n|        1626|             2|  374.000000|\n|        1626|             2|  374.000000|\n|        1626|             3|  374.001337|\n|        1626|             3|  374.001337|\n|        2374|             4|  374.005348|\n|        1625|             2|  375.000000|\n|        1625|             2|  375.000000|\n|        1624|             2|  376.000000|\n|        1624|             2|  376.000000|\n|        2376|             4|  376.005319|\n|        1621|             3|  379.001319|\n|        1621|             3|  379.001319|\n|        1620|             2|  380.000000|\n|        2380|             3|  380.001316|\n|        1620|             4|  380.005263|\n|        1620|             4|  380.005263|\n|        1618|             2|  382.000000|\n|        1616|             2|  384.000000|\n|        1616|             3|  384.001302|\n|        1615|             3|  385.001299|\n|        2385|             3|  385.001299|\n|        1614|             3|  386.001295|\n|        1614|             3|  386.001295|\n|        1614|             3|  386.001295|\n|        1612|             2|  388.000000|\n|        1612|             3|  388.001289|\n|        1612|             3|  388.001289|\n|        1611|             3|  389.001285|\n|        1611|             4|  389.005141|\n|        1610|             3|  390.001282|\n|        1610|             4|  390.005128|\n|        1609|             3|  391.001279|\n|        1609|             3|  391.001279|\n|        1609|             5|  391.011509|\n|        1608|             3|  392.001276|\n|        1608|             3|  392.001276|\n|        2392|             3|  392.001276|\n|        2392|             3|  392.001276|\n|        1606|             3|  394.001269|\n|        1605|             3|  395.001266|\n|        1604|             3|  396.001263|\n|        1604|             3|  396.001263|\n|        1604|             3|  396.001263|\n|        1604|             3|  396.001263|\n|        1604|             3|  396.001263|\n|        1603|             4|  397.005038|\n|        1602|             3|  398.001256|\n|        2398|             3|  398.001256|\n|        1601|             3|  399.001253|\n|        1601|             3|  399.001253|\n|        1600|             2|  400.000000|\n|        1600|             3|  400.001250|\n|        1600|             3|  400.001250|\n|        2400|             4|  400.005000|\n|        1598|             3|  402.001244|\n|        2403|             4|  403.004963|\n|        1596|             3|  404.001238|\n|        1595|             2|  405.000000|\n|        1595|             2|  405.000000|\n|        1594|             2|  406.000000|\n|        1594|             3|  406.001232|\n|        1594|             3|  406.001232|\n|        1593|             3|  407.001229|\n|        1593|             3|  407.001229|\n|        1592|             3|  408.001225|\n|        1590|             3|  410.001219|\n|        1589|             2|  411.000000|\n|        2411|             4|  411.004866|\n|        1588|             3|  412.001214|\n|        1588|             3|  412.001214|\n|        1588|             3|  412.001214|\n|        1588|             5|  412.010922|\n|        1587|             3|  413.001211|\n|        2414|             3|  414.001208|\n|        1586|             3|  414.001208|\n|        1585|             3|  415.001205|\n|        1584|             4|  416.004808|\n|        2417|             4|  417.004796|\n|        1582|             3|  418.001196|\n|        1582|             3|  418.001196|\n|        1582|             3|  418.001196|\n|        2418|             3|  418.001196|\n|        1582|             4|  418.004785|\n|        1580|             3|  420.001191|\n|        1580|             3|  420.001191|\n|        1578|             3|  422.001185|\n|        1578|             3|  422.001185|\n|        1578|             3|  422.001185|\n|        2422|             4|  422.004739|\n|        1577|             2|  423.000000|\n|        1577|             3|  423.001182|\n|        1576|             2|  424.000000|\n|        1576|             3|  424.001179|\n|        1576|             3|  424.001179|\n|        1576|             3|  424.001179|\n|        1575|             2|  425.000000|\n|        1575|             2|  425.000000|\n|        1574|             3|  426.001174|\n|        1574|             3|  426.001174|\n|        1573|             3|  427.001171|\n|        1573|             3|  427.001171|\n|        1573|             3|  427.001171|\n|        1573|             3|  427.001171|\n|        1573|             3|  427.001171|\n|        1572|             3|  428.001168|\n|        1572|             3|  428.001168|\n|        1571|             3|  429.001166|\n|        1571|             3|  429.001166|\n|        1569|             1|  431.001160|\n|        1568|             3|  432.001157|\n|        1568|             3|  432.001157|\n|        2432|             4|  432.004630|\n|        1567|             1|  433.001155|\n|        1566|             5|  434.010369|\n|        1565|             2|  435.000000|\n|        1565|             2|  435.000000|\n|        1564|             2|  436.000000|\n|        1564|             3|  436.001147|\n|        1564|             3|  436.001147|\n|        1561|             2|  439.000000|\n|        1561|             3|  439.001139|\n|        1560|             3|  440.001136|\n|        1560|             3|  440.001136|\n|        1560|             3|  440.001136|\n|        1560|             4|  440.004545|\n|        1560|             4|  440.004545|\n|        1559|             2|  441.000000|\n|        1558|             3|  442.001131|\n|        1556|             3|  444.001126|\n|        1556|             3|  444.001126|\n|        1556|             4|  444.004504|\n|        1556|             4|  444.004504|\n|        1555|             2|  445.000000|\n|        1554|             2|  446.000000|\n|        1553|             3|  447.001119|\n|        2447|             4|  447.004474|\n|        1552|             3|  448.001116|\n|        1552|             3|  448.001116|\n|        2448|             3|  448.001116|\n|        2448|             4|  448.004464|\n|        1551|             3|  449.001114|\n|        1550|             3|  450.001111|\n|        1549|             3|  451.001109|\n|        1548|             2|  452.000000|\n|        1548|             3|  452.001106|\n|        1548|             3|  452.001106|\n|        2452|             3|  452.001106|\n|        2454|             3|  454.001101|\n|        1546|             3|  454.001101|\n|        1544|             3|  456.001097|\n|        1541|             3|  459.001089|\n|        1540|             3|  460.001087|\n|        1540|             3|  460.001087|\n|        1540|             4|  460.004348|\n|        1539|             3|  461.001085|\n|        1539|             3|  461.001085|\n|        1538|             3|  462.001082|\n|        2462|             4|  462.004329|\n|        1537|             3|  463.001080|\n|        1536|             3|  464.001078|\n|        1536|             3|  464.001078|\n|        1536|             3|  464.001078|\n|        1536|             4|  464.004310|\n|        2464|             4|  464.004310|\n|        1535|             3|  465.001075|\n|        1535|             4|  465.004301|\n|        1535|             4|  465.004301|\n|        1534|             3|  466.001073|\n|        1533|             2|  467.000000|\n|        2468|             4|  468.004274|\n|        1531|             2|  469.000000|\n|        1531|             3|  469.001066|\n|        1530|             3|  470.001064|\n|        2470|             1|  470.001064|\n|        1530|             3|  470.001064|\n|        1528|             3|  472.001059|\n|        2473|             4|  473.004228|\n|        2473|             4|  473.004228|\n|        1526|             2|  474.000000|\n|        1526|             4|  474.004219|\n|        1525|             3|  475.001053|\n|        1525|             3|  475.001053|\n|        1525|             3|  475.001053|\n|        2475|             4|  475.004210|\n|        1524|             2|  476.000000|\n|        1524|             3|  476.001050|\n|        1523|             3|  477.001048|\n|        1522|             4|  478.004184|\n|        1521|             3|  479.001044|\n|        1521|             4|  479.004175|\n|        1520|             3|  480.001042|\n|        1520|             3|  480.001042|\n|        2480|             5|  480.009375|\n|        2482|             4|  482.004149|\n|        1517|             3|  483.001035|\n|        1516|             3|  484.001033|\n|        1515|             3|  485.001031|\n|        2486|             5|  486.009259|\n|        2486|             5|  486.009259|\n|        1513|             2|  487.000000|\n|        1513|             4|  487.004107|\n|        1513|             4|  487.004107|\n|        1512|             2|  488.000000|\n|        1512|             2|  488.000000|\n|        1512|             2|  488.000000|\n|        1512|             3|  488.001025|\n|        1511|             2|  489.000000|\n|        1511|             3|  489.001022|\n|        2490|             2|  490.000000|\n|        1510|             3|  490.001020|\n|        1510|             3|  490.001020|\n|        1510|             4|  490.004082|\n|        1509|             3|  491.001018|\n|        1508|             1|  492.001016|\n|        1507|             4|  493.004057|\n|        1506|             2|  494.000000|\n|        1506|             3|  494.001012|\n|        2494|             4|  494.004049|\n|        1505|             2|  495.000000|\n|        1505|             3|  495.001010|\n|        2495|             4|  495.004040|\n|        2495|             5|  495.009091|\n|        1504|             2|  496.000000|\n|        1504|             1|  496.001008|\n|        1504|             3|  496.001008|\n|        1504|             3|  496.001008|\n|        2497|             2|  497.000000|\n|        1502|             3|  498.001004|\n|        1502|             3|  498.001004|\n|        1502|             1|  498.001004|\n|        1501|             2|  499.000000|\n|        1501|             2|  499.000000|\n|        1501|             3|  499.001002|\n|        1501|             3|  499.001002|\n|        1501|             3|  499.001002|\n|        2499|             4|  499.004008|\n|        1500|             2|  500.000000|\n|        1500|             3|  500.001000|\n|        1500|             3|  500.001000|\n|        2500|             5|  500.009000|\n|        1499|             3|  501.000998|\n|        1499|             3|  501.000998|\n|        2501|             4|  501.003992|\n|        1498|             2|  502.000000|\n|        1498|             3|  502.000996|\n|        1497|             3|  503.000994|\n|        2503|             3|  503.000994|\n|        1496|             3|  504.000992|\n|        1496|             3|  504.000992|\n|        1496|             3|  504.000992|\n|        1496|             3|  504.000992|\n|        1495|             3|  505.000990|\n|        1495|             3|  505.000990|\n|        1494|             2|  506.000000|\n|        1494|             3|  506.000988|\n|        1494|             3|  506.000988|\n|        1494|             3|  506.000988|\n|        1494|             3|  506.000988|\n|        1494|             3|  506.000988|\n|        1493|             3|  507.000986|\n|        1492|             3|  508.000984|\n|        1492|             3|  508.000984|\n|        1492|             3|  508.000984|\n|        1491|             3|  509.000982|\n|        1491|             3|  509.000982|\n|        1490|             3|  510.000980|\n|        1490|             3|  510.000980|\n|        1489|             3|  511.000978|\n|        1489|             3|  511.000978|\n|        1489|             3|  511.000978|\n|        1489|             3|  511.000978|\n|        1488|             2|  512.000000|\n|        1488|             3|  512.000977|\n|        1488|             3|  512.000977|\n|        1488|             3|  512.000977|\n|        1487|             3|  513.000975|\n|        1486|             3|  514.000973|\n|        1486|             3|  514.000973|\n|        2514|             4|  514.003891|\n|        2515|             4|  515.003884|\n|        1484|             3|  516.000969|\n|        1484|             3|  516.000969|\n|        1484|             3|  516.000969|\n|        1482|             3|  518.000965|\n|        1482|             4|  518.003861|\n|        1481|             3|  519.000963|\n|        1480|             3|  520.000962|\n|        1480|             4|  520.003846|\n|        2520|             4|  520.003846|\n|        2520|             5|  520.008654|\n|        1479|             3|  521.000960|\n|        1479|             3|  521.000960|\n|        1479|             3|  521.000960|\n|        1479|             3|  521.000960|\n|        1479|             3|  521.000960|\n|        1479|             5|  521.008637|\n|        1478|             2|  522.000000|\n|        1478|             3|  522.000958|\n|        1478|             3|  522.000958|\n|        1476|             3|  524.000954|\n|        1476|             3|  524.000954|\n|        2524|             4|  524.003817|\n|        1475|             4|  525.003809|\n|        1474|             3|  526.000951|\n|        2526|             4|  526.003802|\n|        1473|             1|  527.000949|\n|        1472|             2|  528.000000|\n|        1472|             3|  528.000947|\n|        1472|             3|  528.000947|\n|        1471|             3|  529.000945|\n|        1470|             2|  530.000000|\n|        1470|             3|  530.000943|\n|        1470|             3|  530.000943|\n|        1470|             4|  530.003774|\n|        1468|             2|  532.000000|\n|        1468|             3|  532.000940|\n|        1466|             3|  534.000936|\n|        1466|             3|  534.000936|\n|        1465|             3|  535.000935|\n|        1465|             3|  535.000935|\n|        1464|             3|  536.000933|\n|        1464|             3|  536.000933|\n|        1464|             4|  536.003731|\n|        1463|             3|  537.000931|\n|        1458|             2|  542.000000|\n|        1458|             3|  542.000923|\n|        1458|             3|  542.000923|\n|        1458|             3|  542.000923|\n|        1456|             2|  544.000000|\n|        1456|             3|  544.000919|\n|        1456|             3|  544.000919|\n|        1456|             3|  544.000919|\n|        1456|             3|  544.000919|\n|        1456|             3|  544.000919|\n|        1456|             3|  544.000919|\n|        1456|             3|  544.000919|\n|        1456|             3|  544.000919|\n|        1456|             3|  544.000919|\n|        1456|             3|  544.000919|\n|        1456|             3|  544.000919|\n|        1456|             4|  544.003676|\n|        1456|             4|  544.003676|\n|        2544|             6|  544.014706|\n|        1455|             2|  545.000000|\n|        1453|             2|  547.000000|\n|        1453|             3|  547.000914|\n|        1452|             2|  548.000000|\n|        1452|             2|  548.000000|\n|        1450|             2|  550.000000|\n|        1450|             3|  550.000909|\n|        2550|             4|  550.003636|\n|        1446|             3|  554.000903|\n|        1445|             3|  555.000901|\n|        1445|             3|  555.000901|\n|        1444|             2|  556.000000|\n|        1444|             3|  556.000899|\n|        1444|             3|  556.000899|\n|        1442|             2|  558.000000|\n|        1442|             3|  558.000896|\n|        1442|             3|  558.000896|\n|        1442|             4|  558.003584|\n|        1441|             2|  559.000000|\n|        1441|             3|  559.000894|\n|        2559|             4|  559.003578|\n|        1440|             2|  560.000000|\n|        1440|             2|  560.000000|\n|        1440|             3|  560.000893|\n|        1440|             3|  560.000893|\n|        1440|             3|  560.000893|\n|        1440|             4|  560.003571|\n|        1440|             4|  560.003571|\n|        1437|             3|  563.000888|\n|        1436|             3|  564.000886|\n|        1436|             3|  564.000886|\n|        1436|             3|  564.000886|\n|        1436|             3|  564.000886|\n|        1436|             3|  564.000886|\n|        1435|             3|  565.000885|\n|        1434|             3|  566.000883|\n|        1434|             4|  566.003534|\n|        1432|             2|  568.000000|\n|        1432|             3|  568.000880|\n|        1432|             3|  568.000880|\n|        1432|             3|  568.000880|\n|        1432|             3|  568.000880|\n|        1431|             3|  569.000879|\n|        1431|             3|  569.000879|\n|        1430|             3|  570.000877|\n|        1430|             3|  570.000877|\n|        1430|             3|  570.000877|\n|        1430|             3|  570.000877|\n|        1429|             3|  571.000876|\n|        1428|             3|  572.000874|\n|        1428|             4|  572.003496|\n|        1427|             4|  573.003490|\n|        1426|             3|  574.000871|\n|        2574|             3|  574.000871|\n|        1425|             3|  575.000870|\n|        1425|             3|  575.000870|\n|        1424|             2|  576.000000|\n|        1424|             3|  576.000868|\n|        2576|             4|  576.003472|\n|        1422|             3|  578.000865|\n|        1422|             3|  578.000865|\n|        1422|             3|  578.000865|\n|        1419|             2|  581.000000|\n|        1419|             2|  581.000000|\n|        1419|             2|  581.000000|\n|        1419|             3|  581.000861|\n|        1416|             3|  584.000856|\n|        1416|             3|  584.000856|\n|        1414|             2|  586.000000|\n|        1414|             3|  586.000853|\n|        1414|             3|  586.000853|\n|        1414|             3|  586.000853|\n|        1414|             3|  586.000853|\n|        1414|             3|  586.000853|\n|        1412|             3|  588.000850|\n|        1412|             4|  588.003401|\n|        1411|             3|  589.000849|\n|        1409|             3|  591.000846|\n|        1409|             1|  591.000846|\n|        2592|             6|  592.013513|\n|        1406|             3|  594.000842|\n|        1405|             2|  595.000000|\n|        1404|             3|  596.000839|\n|        1404|             3|  596.000839|\n|        2599|             4|  599.003339|\n|        1400|             3|  600.000833|\n|        1400|             3|  600.000833|\n|        2601|             4|  601.003328|\n|        1398|             2|  602.000000|\n|        1396|             3|  604.000828|\n|        1396|             4|  604.003311|\n|        1395|             3|  605.000826|\n|        1394|             3|  606.000825|\n|        1393|             3|  607.000824|\n|        1392|             2|  608.000000|\n|        1392|             2|  608.000000|\n|        1392|             2|  608.000000|\n|        1392|             3|  608.000822|\n|        1392|             3|  608.000822|\n|        1392|             3|  608.000822|\n|        1392|             3|  608.000822|\n|        1391|             2|  609.000000|\n|        1390|             1|  610.000820|\n|        2610|             4|  610.003279|\n|        1389|             2|  611.000000|\n|        1389|             3|  611.000818|\n|        1387|             3|  613.000816|\n|        1386|             3|  614.000814|\n|        2614|             4|  614.003257|\n|        1383|             2|  617.000000|\n|        1383|             3|  617.000810|\n|        1383|             3|  617.000810|\n|        1382|             1|  618.000809|\n|        1382|             3|  618.000809|\n|        1382|             3|  618.000809|\n|        1382|             3|  618.000809|\n|        1381|             3|  619.000808|\n|        2620|             4|  620.003226|\n|        1378|             3|  622.000804|\n|        2622|             3|  622.000804|\n|        1377|             3|  623.000803|\n|        1376|             2|  624.000000|\n|        1376|             3|  624.000801|\n|        1376|             3|  624.000801|\n|        2624|             4|  624.003205|\n|        1375|             3|  625.000800|\n|        1374|             2|  626.000000|\n|        1374|             3|  626.000799|\n|        1374|             3|  626.000799|\n|        1374|             3|  626.000799|\n|        1374|             3|  626.000799|\n|        1374|             3|  626.000799|\n|        1373|             3|  627.000797|\n|        1372|             3|  628.000796|\n|        1372|             3|  628.000796|\n|        1370|             2|  630.000000|\n|        1370|             2|  630.000000|\n|        1370|             3|  630.000794|\n|        1370|             3|  630.000794|\n|        2630|             4|  630.003175|\n|        1369|             3|  631.000792|\n|        1368|             2|  632.000000|\n|        1368|             3|  632.000791|\n|        1367|             2|  633.000000|\n|        1367|             3|  633.000790|\n|        2634|             6|  634.012618|\n|        1365|             2|  635.000000|\n|        1365|             3|  635.000787|\n|        1365|             3|  635.000787|\n|        1364|             2|  636.000000|\n|        1364|             2|  636.000000|\n|        1363|             2|  637.000000|\n|        1363|             2|  637.000000|\n|        1363|             3|  637.000785|\n|        1362|             2|  638.000000|\n|        1362|             2|  638.000000|\n|        1362|             3|  638.000784|\n|        1362|             3|  638.000784|\n|        1362|             4|  638.003135|\n|        1361|             2|  639.000000|\n|        1361|             3|  639.000783|\n|        1360|             2|  640.000000|\n|        1360|             2|  640.000000|\n|        1360|             3|  640.000781|\n|        1360|             1|  640.000781|\n|        2640|             3|  640.000781|\n|        2640|             4|  640.003125|\n|        2640|             5|  640.007031|\n|        1358|             2|  642.000000|\n|        1358|             2|  642.000000|\n|        1358|             2|  642.000000|\n|        1358|             2|  642.000000|\n|        1358|             3|  642.000779|\n|        1358|             1|  642.000779|\n|        1357|             2|  643.000000|\n|        2643|             3|  643.000778|\n|        1356|             3|  644.000776|\n|        1356|             3|  644.000776|\n|        1355|             3|  645.000775|\n|        1355|             4|  645.003101|\n|        2646|             3|  646.000774|\n|        2646|             4|  646.003096|\n|        1353|             2|  647.000000|\n|        1352|             2|  648.000000|\n|        1352|             2|  648.000000|\n|        1352|             3|  648.000772|\n|        1352|             4|  648.003086|\n|        1352|             4|  648.003086|\n|        1351|             3|  649.000770|\n|        2649|             4|  649.003082|\n|        1350|             2|  650.000000|\n|        1350|             3|  650.000769|\n|        1350|             3|  650.000769|\n|        2650|             6|  650.012308|\n|        1348|             3|  652.000767|\n|        1347|             3|  653.000766|\n|        1346|             2|  654.000000|\n|        1346|             3|  654.000764|\n|        2654|             4|  654.003058|\n|        2654|             4|  654.003058|\n|        1344|             2|  656.000000|\n|        1344|             2|  656.000000|\n|        1344|             2|  656.000000|\n|        1344|             3|  656.000762|\n|        1344|             3|  656.000762|\n|        1344|             3|  656.000762|\n|        1344|             4|  656.003049|\n|        1343|             3|  657.000761|\n|        1342|             2|  658.000000|\n|        1342|             4|  658.003039|\n|        1341|             2|  659.000000|\n|        1341|             1|  659.000759|\n|        1340|             3|  660.000758|\n|        1340|             3|  660.000758|\n|        1338|             2|  662.000000|\n|        1338|             3|  662.000755|\n|        1338|             3|  662.000755|\n|        1337|             2|  663.000000|\n|        1337|             2|  663.000000|\n|        1337|             2|  663.000000|\n|        1337|             2|  663.000000|\n|        1337|             2|  663.000000|\n|        1337|             2|  663.000000|\n|        1337|             2|  663.000000|\n|        1337|             3|  663.000754|\n|        1337|             3|  663.000754|\n|        1337|             3|  663.000754|\n|        1336|             2|  664.000000|\n|        1336|             3|  664.000753|\n|        1336|             3|  664.000753|\n|        1334|             2|  666.000000|\n|        1334|             3|  666.000751|\n|        1332|             2|  668.000000|\n|        2668|             3|  668.000748|\n|        1330|             3|  670.000746|\n|        1330|             3|  670.000746|\n|        1329|             3|  671.000745|\n|        1329|             3|  671.000745|\n|        1328|             2|  672.000000|\n|        1328|             3|  672.000744|\n|        1328|             3|  672.000744|\n|        1327|             3|  673.000743|\n|        2674|             2|  674.000000|\n|        1326|             3|  674.000742|\n|        1324|             2|  676.000000|\n|        1324|             2|  676.000000|\n|        1324|             3|  676.000740|\n|        1324|             3|  676.000740|\n|        1324|             3|  676.000740|\n|        1324|             3|  676.000740|\n|        1323|             3|  677.000739|\n|        1322|             4|  678.002950|\n|        1321|             1|  679.000736|\n|        1320|             3|  680.000735|\n|        1320|             3|  680.000735|\n|        1320|             3|  680.000735|\n|        1320|             3|  680.000735|\n|        1320|             3|  680.000735|\n|        1317|             3|  683.000732|\n|        2683|             4|  683.002928|\n|        1316|             2|  684.000000|\n|        1316|             3|  684.000731|\n|        1316|             3|  684.000731|\n|        1316|             3|  684.000731|\n|        1316|             4|  684.002924|\n|        1315|             3|  685.000730|\n|        1314|             2|  686.000000|\n|        1314|             3|  686.000729|\n|        1314|             3|  686.000729|\n|        1314|             3|  686.000729|\n|        1313|             3|  687.000728|\n|        2687|             4|  687.002911|\n|        2687|             4|  687.002911|\n|        1312|             3|  688.000727|\n|        1312|             3|  688.000727|\n|        1310|             2|  690.000000|\n|        1310|             3|  690.000725|\n|        2690|             3|  690.000725|\n|        1310|             1|  690.000725|\n|        2690|             4|  690.002899|\n|        1309|             3|  691.000724|\n|        1308|             2|  692.000000|\n|        1308|             2|  692.000000|\n|        1308|             3|  692.000723|\n|        1308|             3|  692.000723|\n|        1306|             2|  694.000000|\n|        1306|             3|  694.000721|\n|        1306|             3|  694.000721|\n|        1306|             1|  694.000721|\n|        1306|             1|  694.000721|\n|        1304|             3|  696.000718|\n|        1304|             3|  696.000718|\n|        2696|             3|  696.000718|\n|        2696|             4|  696.002874|\n|        1302|             2|  698.000000|\n|        1302|             3|  698.000716|\n|        1302|             3|  698.000716|\n|        1302|             3|  698.000716|\n|        1302|             3|  698.000716|\n|        1302|             3|  698.000716|\n|        1302|             1|  698.000716|\n|        1302|             3|  698.000716|\n|        2698|             4|  698.002865|\n|        1301|             2|  699.000000|\n|        1299|             2|  701.000000|\n|        1299|             3|  701.000713|\n|        1298|             2|  702.000000|\n|        1298|             3|  702.000712|\n|        1298|             3|  702.000712|\n|        1298|             3|  702.000712|\n|        1297|             3|  703.000711|\n|        1296|             2|  704.000000|\n|        1296|             2|  704.000000|\n|        1296|             3|  704.000710|\n|        2704|             4|  704.002841|\n|        1295|             2|  705.000000|\n|        1295|             3|  705.000709|\n|        1295|             1|  705.000709|\n|        1294|             2|  706.000000|\n|        1293|             2|  707.000000|\n|        1292|             3|  708.000706|\n|        1290|             2|  710.000000|\n|        1290|             3|  710.000704|\n|        1288|             3|  712.000702|\n|        1288|             4|  712.002809|\n|        1287|             2|  713.000000|\n|        1287|             3|  713.000701|\n|        1287|             3|  713.000701|\n|        2713|             3|  713.000701|\n|        1285|             2|  715.000000|\n|        1285|             3|  715.000699|\n|        1285|             3|  715.000699|\n|        2715|             4|  715.002797|\n|        1283|             3|  717.000697|\n|        1282|             2|  718.000000|\n|        1281|             1|  719.000695|\n|        1280|             2|  720.000000|\n|        1280|             2|  720.000000|\n|        1278|             2|  722.000000|\n|        1277|             2|  723.000000|\n|        2726|             2|  726.000000|\n|        1273|             2|  727.000000|\n|        1273|             3|  727.000688|\n|        2727|             3|  727.000688|\n|        2728|             4|  728.002747|\n|        1271|             4|  729.002743|\n|        1270|             2|  730.000000|\n|        2730|             4|  730.002740|\n|        1269|             3|  731.000684|\n|        1269|             3|  731.000684|\n|        1268|             2|  732.000000|\n|        1268|             3|  732.000683|\n|        1268|             3|  732.000683|\n|        1268|             3|  732.000683|\n|        1266|             2|  734.000000|\n|        1266|             2|  734.000000|\n|        1265|             3|  735.000680|\n|        1264|             2|  736.000000|\n|        1264|             3|  736.000679|\n|        1262|             2|  738.000000|\n|        1261|             3|  739.000677|\n|        1260|             3|  740.000676|\n|        1258|             2|  742.000000|\n|        1258|             3|  742.000674|\n|        1258|             3|  742.000674|\n|        1258|             0|  742.002695|\n|        1256|             3|  744.000672|\n|        1256|             1|  744.000672|\n|        1256|             3|  744.000672|\n|        1254|             3|  746.000670|\n|        1253|             2|  747.000000|\n|        1252|             2|  748.000000|\n|        1252|             3|  748.000668|\n|        1252|             3|  748.000668|\n|        1252|             3|  748.000668|\n|        1252|             1|  748.000668|\n|        1251|             3|  749.000668|\n|        1250|             2|  750.000000|\n|        1250|             2|  750.000000|\n|        1248|             2|  752.000000|\n|        1248|             2|  752.000000|\n|        1248|             2|  752.000000|\n|        1248|             3|  752.000665|\n|        1247|             1|  753.000664|\n|        1246|             2|  754.000000|\n|        1246|             3|  754.000663|\n|        1246|             3|  754.000663|\n|        1245|             3|  755.000662|\n|        1245|             1|  755.000662|\n|        1244|             3|  756.000661|\n|        1242|             2|  758.000000|\n|        1242|             3|  758.000660|\n|        1242|             3|  758.000660|\n|        2758|             4|  758.002638|\n|        1241|             1|  759.000659|\n|        1240|             2|  760.000000|\n|        1240|             3|  760.000658|\n|        1239|             1|  761.000657|\n|        1236|             2|  764.000000|\n|        1236|             2|  764.000000|\n|        1236|             2|  764.000000|\n|        1236|             3|  764.000654|\n|        1235|             2|  765.000000|\n|        1235|             1|  765.000654|\n|        1232|             3|  768.000651|\n|        1232|             3|  768.000651|\n|        1232|             3|  768.000651|\n|        1232|             3|  768.000651|\n|        1230|             3|  770.000649|\n|        1229|             2|  771.000000|\n|        1229|             2|  771.000000|\n|        1229|             2|  771.000000|\n|        1229|             3|  771.000649|\n|        1228|             2|  772.000000|\n|        1228|             3|  772.000648|\n|        1228|             3|  772.000648|\n|        2772|             4|  772.002591|\n|        1226|             2|  774.000000|\n|        1226|             3|  774.000646|\n|        1226|             1|  774.000646|\n|        1226|             1|  774.000646|\n|        1225|             3|  775.000645|\n|        1224|             2|  776.000000|\n|        1224|             2|  776.000000|\n|        1224|             2|  776.000000|\n|        1224|             3|  776.000644|\n|        1224|             3|  776.000644|\n|        1224|             3|  776.000644|\n|        1224|             4|  776.002577|\n|        1223|             2|  777.000000|\n|        1222|             2|  778.000000|\n|        1221|             2|  779.000000|\n|        1221|             4|  779.002567|\n|        1220|             2|  780.000000|\n|        1220|             2|  780.000000|\n|        1220|             2|  780.000000|\n|        1220|             2|  780.000000|\n|        1218|             2|  782.000000|\n|        1218|             3|  782.000639|\n|        1218|             3|  782.000639|\n|        1218|             3|  782.000639|\n|        1218|             3|  782.000639|\n|        1218|             3|  782.000639|\n|        1218|             4|  782.002557|\n|        1217|             2|  783.000000|\n|        1217|             3|  783.000639|\n|        1217|             3|  783.000639|\n|        1216|             2|  784.000000|\n|        1216|             2|  784.000000|\n|        1216|             3|  784.000638|\n|        1216|             3|  784.000638|\n|        1216|             3|  784.000638|\n|        2784|             5|  784.005740|\n|        1215|             3|  785.000637|\n|        2786|             4|  786.002544|\n|        2787|             6|  787.010165|\n|        2787|             6|  787.010165|\n|        1212|             3|  788.000635|\n|        1212|             3|  788.000635|\n|        1212|             3|  788.000635|\n|        1211|             2|  789.000000|\n|        1210|             3|  790.000633|\n|        1210|             3|  790.000633|\n|        2790|             4|  790.002532|\n|        1209|             3|  791.000632|\n|        1208|             2|  792.000000|\n|        1208|             2|  792.000000|\n|        1208|             2|  792.000000|\n|        1208|             2|  792.000000|\n|        1208|             3|  792.000631|\n|        1207|             3|  793.000631|\n|        2795|             4|  795.002516|\n|        1204|             2|  796.000000|\n|        1204|             2|  796.000000|\n|        1204|             3|  796.000628|\n|        1203|             3|  797.000627|\n|        2798|             3|  798.000627|\n|        1200|             2|  800.000000|\n|        1200|             2|  800.000000|\n|        1200|             2|  800.000000|\n|        1200|             2|  800.000000|\n|        1200|             2|  800.000000|\n|        1200|             3|  800.000625|\n|        1200|             3|  800.000625|\n|        1200|             1|  800.000625|\n|        1200|             3|  800.000625|\n|        1200|             3|  800.000625|\n|        1200|             4|  800.002500|\n|        1200|             4|  800.002500|\n|        1196|             2|  804.000000|\n|        1196|             3|  804.000622|\n|        1195|             4|  805.002485|\n|        1194|             3|  806.000620|\n|        1194|             3|  806.000620|\n|        1193|             2|  807.000000|\n|        1193|             3|  807.000620|\n|        1192|             3|  808.000619|\n|        1192|             4|  808.002475|\n|        1191|             2|  809.000000|\n|        1190|             3|  810.000617|\n|        1188|             1|  812.000616|\n|        1187|             2|  813.000000|\n|        1187|             3|  813.000615|\n|        1187|             3|  813.000615|\n|        2814|             4|  814.002457|\n|        1183|             2|  817.000000|\n|        1183|             3|  817.000612|\n|        1182|             3|  818.000611|\n|        1181|             3|  819.000610|\n|        1180|             2|  820.000000|\n|        1180|             2|  820.000000|\n|        1178|             2|  822.000000|\n|        1178|             3|  822.000608|\n|        1178|             3|  822.000608|\n|        2822|             4|  822.002433|\n|        1176|             2|  824.000000|\n|        1175|             3|  825.000606|\n|        1175|             3|  825.000606|\n|        1174|             2|  826.000000|\n|        1174|             3|  826.000605|\n|        2826|             3|  826.000605|\n|        1173|             3|  827.000605|\n|        1173|             3|  827.000605|\n|        1172|             3|  828.000604|\n|        1167|             3|  833.000600|\n|        1167|             3|  833.000600|\n|        1164|             3|  836.000598|\n|        1163|             3|  837.000597|\n|        2840|             4|  840.002381|\n|        1159|             3|  841.000595|\n|        1159|             3|  841.000595|\n|        1158|             3|  842.000594|\n|        1158|             3|  842.000594|\n|        1158|             3|  842.000594|\n|        1155|             3|  845.000592|\n|        1154|             3|  846.000591|\n|        1154|             3|  846.000591|\n|        1154|             3|  846.000591|\n|        1152|             2|  848.000000|\n|        1152|             2|  848.000000|\n|        1152|             2|  848.000000|\n|        1152|             2|  848.000000|\n|        1152|             3|  848.000590|\n|        1152|             3|  848.000590|\n|        1152|             3|  848.000590|\n|        1151|             2|  849.000000|\n|        1150|             3|  850.000588|\n|        1150|             3|  850.000588|\n|        1148|             3|  852.000587|\n|        1146|             3|  854.000586|\n|        1146|             3|  854.000586|\n|        1145|             2|  855.000000|\n|        2855|             4|  855.002339|\n|        1144|             3|  856.000584|\n|        1144|             3|  856.000584|\n|        1144|             3|  856.000584|\n|        1144|             3|  856.000584|\n|        1143|             3|  857.000583|\n|        1143|             1|  857.000583|\n|        1142|             2|  858.000000|\n|        1142|             3|  858.000583|\n|        1142|             3|  858.000583|\n|        1141|             3|  859.000582|\n|        1141|             3|  859.000582|\n|        1140|             3|  860.000581|\n|        1138|             3|  862.000580|\n|        1137|             4|  863.002318|\n|        1136|             2|  864.000000|\n|        1134|             2|  866.000000|\n|        1134|             3|  866.000577|\n|        1132|             2|  868.000000|\n|        1132|             2|  868.000000|\n|        2868|             4|  868.002304|\n|        1131|             3|  869.000575|\n|        1131|             3|  869.000575|\n|        1130|             2|  870.000000|\n|        1128|             2|  872.000000|\n|        1128|             2|  872.000000|\n|        1128|             3|  872.000573|\n|        1128|             3|  872.000573|\n|        2872|             4|  872.002294|\n|        2872|             4|  872.002294|\n|        1127|             3|  873.000573|\n|        1126|             3|  874.000572|\n|        1126|             3|  874.000572|\n|        1125|             3|  875.000571|\n|        1124|             3|  876.000571|\n|        1121|             3|  879.000569|\n|        1120|             3|  880.000568|\n|        1120|             3|  880.000568|\n|        1117|             3|  883.000566|\n|        1117|             3|  883.000566|\n|        1116|             3|  884.000566|\n|        1116|             3|  884.000566|\n|        1114|             3|  886.000564|\n|        1114|             3|  886.000564|\n|        1114|             3|  886.000564|\n|        1114|             3|  886.000564|\n|        1114|             3|  886.000564|\n|        1113|             3|  887.000564|\n|        1112|             2|  888.000000|\n|        1112|             2|  888.000000|\n|        1112|             3|  888.000563|\n|        1112|             4|  888.002252|\n|        1111|             2|  889.000000|\n|        1111|             3|  889.000562|\n|        1110|             1|  890.000562|\n|        1109|             3|  891.000561|\n|        1108|             3|  892.000561|\n|        1107|             3|  893.000560|\n|        1103|             3|  897.000557|\n|        1102|             2|  898.000000|\n|        2898|             2|  898.000000|\n|        1100|             3|  900.000556|\n|        1100|             3|  900.000556|\n|        1100|             3|  900.000556|\n|        1099|             3|  901.000555|\n|        1098|             2|  902.000000|\n|        1098|             3|  902.000554|\n|        1097|             3|  903.000554|\n|        1096|             2|  904.000000|\n|        1096|             3|  904.000553|\n|        1096|             3|  904.000553|\n|        1095|             2|  905.000000|\n|        1094|             3|  906.000552|\n|        1094|             3|  906.000552|\n|        1093|             2|  907.000000|\n|        1093|             3|  907.000551|\n|        1092|             2|  908.000000|\n|        1092|             3|  908.000551|\n|        1092|             3|  908.000551|\n|        1092|             3|  908.000551|\n|        1092|             3|  908.000551|\n|        1092|             3|  908.000551|\n|        1092|             3|  908.000551|\n|        1092|             3|  908.000551|\n|        1092|             3|  908.000551|\n|        1092|             3|  908.000551|\n|        1092|             3|  908.000551|\n|        1092|             3|  908.000551|\n|        1092|             3|  908.000551|\n|        1092|             3|  908.000551|\n|        1092|             3|  908.000551|\n|        1092|             3|  908.000551|\n|        1092|             3|  908.000551|\n|        1091|             2|  909.000000|\n|        1090|             2|  910.000000|\n|        1089|             3|  911.000549|\n|        1088|             2|  912.000000|\n|        1088|             2|  912.000000|\n|        1086|             3|  914.000547|\n|        1086|             3|  914.000547|\n|        1082|             3|  918.000545|\n|        1081|             3|  919.000544|\n|        1080|             2|  920.000000|\n|        1080|             2|  920.000000|\n|        1080|             3|  920.000544|\n|        1080|             3|  920.000544|\n|        1078|             2|  922.000000|\n|        1078|             3|  922.000542|\n|        1077|             2|  923.000000|\n|        1077|             2|  923.000000|\n|        1077|             3|  923.000542|\n|        1075|             3|  925.000541|\n|        1074|             3|  926.000540|\n|        1073|             2|  927.000000|\n|        1073|             3|  927.000539|\n|        1073|             3|  927.000539|\n|        1073|             3|  927.000539|\n|        1072|             2|  928.000000|\n|        1072|             2|  928.000000|\n|        1072|             2|  928.000000|\n|        1072|             2|  928.000000|\n|        1072|             2|  928.000000|\n|        1072|             2|  928.000000|\n|        1069|             2|  931.000000|\n|        1069|             2|  931.000000|\n|        1069|             2|  931.000000|\n|        1068|             2|  932.000000|\n|        1068|             3|  932.000536|\n|        1067|             2|  933.000000|\n|        1064|             2|  936.000000|\n|        1064|             3|  936.000534|\n|        1063|             3|  937.000534|\n|        1062|             3|  938.000533|\n|        1061|             1|  939.000532|\n|        1060|             3|  940.000532|\n|        1060|             1|  940.000532|\n|        1060|             3|  940.000532|\n|        1059|             3|  941.000531|\n|        1057|             3|  943.000530|\n|        1057|             3|  943.000530|\n|        1057|             3|  943.000530|\n|        1056|             2|  944.000000|\n|        1056|             3|  944.000530|\n|        2944|             3|  944.000530|\n|        1056|             3|  944.000530|\n|        1056|             3|  944.000530|\n|        1056|             0|  944.002119|\n|        1055|             2|  945.000000|\n|        1055|             2|  945.000000|\n|        1055|             2|  945.000000|\n|        1055|             2|  945.000000|\n|        1055|             2|  945.000000|\n|        2945|             3|  945.000529|\n|        1054|             3|  946.000528|\n|        1054|             3|  946.000528|\n|        1053|             2|  947.000000|\n|        1053|             3|  947.000528|\n|        1053|             3|  947.000528|\n|        1052|             3|  948.000527|\n|        1052|             3|  948.000527|\n|        1051|             3|  949.000527|\n|        1050|             2|  950.000000|\n|        1050|             3|  950.000526|\n|        1050|             3|  950.000526|\n|        1049|             2|  951.000000|\n|        1049|             2|  951.000000|\n|        1048|             2|  952.000000|\n|        1048|             3|  952.000525|\n|        1045|             2|  955.000000|\n|        1045|             3|  955.000524|\n|        1045|             3|  955.000524|\n|        1044|             3|  956.000523|\n|        1043|             2|  957.000000|\n|        1041|             3|  959.000521|\n|        1040|             2|  960.000000|\n|        1040|             2|  960.000000|\n|        1040|             2|  960.000000|\n|        1040|             2|  960.000000|\n|        1040|             2|  960.000000|\n|        1040|             2|  960.000000|\n|        1040|             2|  960.000000|\n|        1040|             2|  960.000000|\n|        1040|             3|  960.000521|\n|        1040|             3|  960.000521|\n|        1040|             3|  960.000521|\n|        1040|             3|  960.000521|\n|        1040|             3|  960.000521|\n|        1040|             3|  960.000521|\n|        1040|             3|  960.000521|\n|        1040|             3|  960.000521|\n|        1040|             3|  960.000521|\n|        1040|             3|  960.000521|\n|        1040|             3|  960.000521|\n|        1040|             3|  960.000521|\n|        1040|             3|  960.000521|\n|        1039|             3|  961.000520|\n|        1038|             2|  962.000000|\n|        1036|             3|  964.000519|\n|        1036|             1|  964.000519|\n|        1034|             2|  966.000000|\n|        1034|             3|  966.000518|\n|        1034|             3|  966.000518|\n|        1034|             1|  966.000518|\n|        1033|             3|  967.000517|\n|        1032|             2|  968.000000|\n|        1032|             2|  968.000000|\n|        1032|             2|  968.000000|\n|        1032|             3|  968.000517|\n|        1031|             2|  969.000000|\n|        1030|             3|  970.000516|\n|        1029|             3|  971.000515|\n|        1027|             2|  973.000000|\n|        1027|             3|  973.000514|\n|        1024|             2|  976.000000|\n|        1024|             3|  976.000512|\n|        1022|             2|  978.000000|\n|        2978|             5|  978.004601|\n|        1020|             3|  980.000510|\n|        1020|             1|  980.000510|\n|        1015|             3|  985.000508|\n|        1013|             3|  987.000507|\n|        1012|             4|  988.002024|\n|        1009|             3|  991.000505|\n|        1008|             2|  992.000000|\n|        1008|             3|  992.000504|\n|        1008|             3|  992.000504|\n|        1008|             1|  992.000504|\n|        1006|             3|  994.000503|\n|        1005|             2|  995.000000|\n|        1005|             2|  995.000000|\n|        1005|             3|  995.000503|\n|        1004|             2|  996.000000|\n|        1003|             3|  997.000502|\n|        1002|             3|  998.000501|\n|        1001|             2|  999.000000|\n|         999|             3| 1001.000500|\n|         999|             3| 1001.000500|\n|         998|             3| 1002.000499|\n|         996|             2| 1004.000000|\n|         996|             3| 1004.000498|\n|        3005|             3| 1005.000498|\n|         992|             2| 1008.000000|\n|         990|             3| 1010.000495|\n|         990|             3| 1010.000495|\n|         990|             3| 1010.000495|\n|         990|             3| 1010.000495|\n|         990|             3| 1010.000495|\n|         990|             3| 1010.000495|\n|         988|             2| 1012.000000|\n|         988|             2| 1012.000000|\n|         988|             3| 1012.000494|\n|         988|             3| 1012.000494|\n|         988|             3| 1012.000494|\n|         988|             1| 1012.000494|\n|         987|             2| 1013.000000|\n|         987|             2| 1013.000000|\n|         987|             2| 1013.000000|\n|         987|             2| 1013.000000|\n|         987|             2| 1013.000000|\n|         987|             2| 1013.000000|\n|         987|             2| 1013.000000|\n|         987|             2| 1013.000000|\n|         987|             2| 1013.000000|\n|         985|             2| 1015.000000|\n|         985|             3| 1015.000493|\n|         984|             3| 1016.000492|\n|         984|             3| 1016.000492|\n|         984|             3| 1016.000492|\n|         981|             3| 1019.000491|\n|         980|             3| 1020.000490|\n|         980|             3| 1020.000490|\n|         980|             3| 1020.000490|\n|         980|             4| 1020.001961|\n|         976|             2| 1024.000000|\n|         976|             2| 1024.000000|\n|         974|             3| 1026.000487|\n|         972|             2| 1028.000000|\n|         971|             3| 1029.000486|\n|         970|             3| 1030.000485|\n|         968|             2| 1032.000000|\n|         968|             2| 1032.000000|\n|         968|             2| 1032.000000|\n|         968|             4| 1032.001938|\n|         965|             2| 1035.000000|\n|         964|             2| 1036.000000|\n|         964|             3| 1036.000483|\n|         960|             2| 1040.000000|\n|         960|             2| 1040.000000|\n|         960|             2| 1040.000000|\n|         960|             3| 1040.000481|\n|         960|             3| 1040.000481|\n|         960|             3| 1040.000481|\n|         960|             3| 1040.000481|\n|         960|             3| 1040.000481|\n|         960|             0| 1040.001923|\n|         958|             2| 1042.000000|\n|         958|             2| 1042.000000|\n|         958|             2| 1042.000000|\n|         954|             3| 1046.000478|\n|         952|             2| 1048.000000|\n|         952|             2| 1048.000000|\n|         952|             3| 1048.000477|\n|         951|             2| 1049.000000|\n|         950|             2| 1050.000000|\n|         950|             3| 1050.000476|\n|         949|             2| 1051.000000|\n|         948|             2| 1052.000000|\n|         948|             3| 1052.000475|\n|         948|             3| 1052.000475|\n|         948|             3| 1052.000475|\n|         945|             2| 1055.000000|\n|         943|             2| 1057.000000|\n|         943|             2| 1057.000000|\n|         943|             3| 1057.000473|\n|         941|             3| 1059.000472|\n|         936|             2| 1064.000000|\n|         936|             2| 1064.000000|\n|         936|             2| 1064.000000|\n|         936|             2| 1064.000000|\n|         936|             2| 1064.000000|\n|         936|             2| 1064.000000|\n|         936|             2| 1064.000000|\n|         936|             3| 1064.000470|\n|         936|             3| 1064.000470|\n|         935|             2| 1065.000000|\n|         935|             3| 1065.000470|\n|         934|             2| 1066.000000|\n|         932|             2| 1068.000000|\n|         928|             2| 1072.000000|\n|         928|             3| 1072.000466|\n|         925|             2| 1075.000000|\n|         925|             2| 1075.000000|\n|         925|             3| 1075.000465|\n|         925|             3| 1075.000465|\n|         925|             3| 1075.000465|\n|         924|             2| 1076.000000|\n|         924|             3| 1076.000465|\n|         924|             3| 1076.000465|\n|         923|             2| 1077.000000|\n|         923|             3| 1077.000464|\n|         922|             2| 1078.000000|\n|         919|             2| 1081.000000|\n|         919|             3| 1081.000462|\n|         918|             2| 1082.000000|\n|         918|             3| 1082.000462|\n|         914|             2| 1086.000000|\n|         914|             2| 1086.000000|\n|         914|             2| 1086.000000|\n|         914|             3| 1086.000460|\n|        3086|             3| 1086.000460|\n|        3086|             4| 1086.001842|\n|         913|             3| 1087.000460|\n|         912|             2| 1088.000000|\n|         912|             2| 1088.000000|\n|         912|             2| 1088.000000|\n|         912|             2| 1088.000000|\n|         912|             2| 1088.000000|\n|         912|             3| 1088.000460|\n|         912|             3| 1088.000460|\n|         912|             3| 1088.000460|\n|         910|             3| 1090.000459|\n|         909|             3| 1091.000458|\n|         908|             2| 1092.000000|\n|         907|             3| 1093.000458|\n|         907|             3| 1093.000458|\n|         907|             3| 1093.000458|\n|         906|             2| 1094.000000|\n|         904|             2| 1096.000000|\n|         904|             1| 1096.000456|\n|         904|             3| 1096.000456|\n|         902|             2| 1098.000000|\n|         901|             2| 1099.000000|\n|         900|             3| 1100.000454|\n|         900|             3| 1100.000454|\n|         899|             3| 1101.000454|\n|         898|             3| 1102.000454|\n|         897|             3| 1103.000453|\n|         896|             2| 1104.000000|\n|         896|             2| 1104.000000|\n|         894|             2| 1106.000000|\n|         894|             2| 1106.000000|\n|         894|             2| 1106.000000|\n|         894|             3| 1106.000452|\n|         894|             3| 1106.000452|\n|         894|             3| 1106.000452|\n|         894|             3| 1106.000452|\n|         894|             3| 1106.000452|\n|         894|             3| 1106.000452|\n|         894|             3| 1106.000452|\n|         893|             2| 1107.000000|\n|         892|             3| 1108.000451|\n|         892|             3| 1108.000451|\n|         892|             3| 1108.000451|\n|         890|             3| 1110.000450|\n|         889|             3| 1111.000450|\n|         888|             3| 1112.000450|\n|         887|             3| 1113.000449|\n|         884|             2| 1116.000000|\n|         884|             2| 1116.000000|\n|         884|             2| 1116.000000|\n|         882|             2| 1118.000000|\n|         882|             2| 1118.000000|\n|         882|             3| 1118.000447|\n|         882|             1| 1118.000447|\n|         882|             3| 1118.000447|\n|         879|             2| 1121.000000|\n|         879|             3| 1121.000446|\n|         876|             2| 1124.000000|\n|         876|             3| 1124.000445|\n|         874|             3| 1126.000444|\n|         874|             3| 1126.000444|\n|         874|             3| 1126.000444|\n|         872|             2| 1128.000000|\n|         872|             3| 1128.000443|\n|         869|             2| 1131.000000|\n|         864|             2| 1136.000000|\n|         864|             2| 1136.000000|\n|         864|             2| 1136.000000|\n|         864|             2| 1136.000000|\n|         864|             2| 1136.000000|\n|         864|             2| 1136.000000|\n|         864|             2| 1136.000000|\n|         864|             2| 1136.000000|\n|         864|             2| 1136.000000|\n|         864|             2| 1136.000000|\n|         864|             2| 1136.000000|\n|         864|             2| 1136.000000|\n|         864|             2| 1136.000000|\n|         864|             2| 1136.000000|\n|         864|             2| 1136.000000|\n|         864|             3| 1136.000440|\n|         864|             3| 1136.000440|\n|         864|             3| 1136.000440|\n|         864|             3| 1136.000440|\n|         864|             3| 1136.000440|\n|         864|             3| 1136.000440|\n|         864|             3| 1136.000440|\n|         864|             3| 1136.000440|\n|         864|             3| 1136.000440|\n|         864|             3| 1136.000440|\n|         864|             3| 1136.000440|\n|         864|             3| 1136.000440|\n|         864|             3| 1136.000440|\n|         864|             3| 1136.000440|\n|         864|             3| 1136.000440|\n|         864|             3| 1136.000440|\n|         864|             3| 1136.000440|\n|         864|             3| 1136.000440|\n|         864|             3| 1136.000440|\n|         864|             3| 1136.000440|\n|         864|             3| 1136.000440|\n|         861|             1| 1139.000439|\n|        3140|             4| 1140.001754|\n|         858|             2| 1142.000000|\n|         858|             3| 1142.000438|\n|         856|             2| 1144.000000|\n|         854|             2| 1146.000000|\n|         848|             1| 1152.000434|\n|         848|             1| 1152.000434|\n|         848|             1| 1152.000434|\n|         848|             1| 1152.000434|\n|         848|             1| 1152.000434|\n|         848|             1| 1152.000434|\n|         848|             1| 1152.000434|\n|         848|             1| 1152.000434|\n|         848|             1| 1152.000434|\n|         846|             2| 1154.000000|\n|         845|             2| 1155.000000|\n|         845|             3| 1155.000433|\n|         845|             1| 1155.000433|\n|         845|             3| 1155.000433|\n|         844|             2| 1156.000000|\n|         841|             2| 1159.000000|\n|         840|             2| 1160.000000|\n|         840|             3| 1160.000431|\n|         836|             2| 1164.000000|\n|         835|             2| 1165.000000|\n|         833|             3| 1167.000428|\n|         832|             2| 1168.000000|\n|         832|             2| 1168.000000|\n|         827|             2| 1173.000000|\n|         825|             2| 1175.000000|\n|         825|             2| 1175.000000|\n|         819|             2| 1181.000000|\n|         816|             2| 1184.000000|\n|         816|             2| 1184.000000|\n|         816|             2| 1184.000000|\n|         816|             2| 1184.000000|\n|         816|             2| 1184.000000|\n|         816|             3| 1184.000422|\n|         816|             3| 1184.000422|\n|         813|             2| 1187.000000|\n|         810|             2| 1190.000000|\n|         808|             2| 1192.000000|\n|         808|             1| 1192.000419|\n|         804|             2| 1196.000000|\n|         803|             2| 1197.000000|\n|         800|             1| 1200.000417|\n|         797|             2| 1203.000000|\n|         796|             2| 1204.000000|\n|         796|             2| 1204.000000|\n|         796|             2| 1204.000000|\n|         796|             2| 1204.000000|\n|         793|             2| 1207.000000|\n|         792|             2| 1208.000000|\n|         792|             2| 1208.000000|\n|         792|             2| 1208.000000|\n|         790|             2| 1210.000000|\n|         789|             2| 1211.000000|\n|         789|             2| 1211.000000|\n|         784|             2| 1216.000000|\n|         780|             2| 1220.000000|\n|         773|             2| 1227.000000|\n|        3228|             4| 1228.001629|\n|         768|             2| 1232.000000|\n|         768|             2| 1232.000000|\n|         768|             2| 1232.000000|\n|         768|             1| 1232.000406|\n|         767|             1| 1233.000405|\n|         765|             2| 1235.000000|\n|         764|             2| 1236.000000|\n|         759|             1| 1241.000403|\n|         756|             2| 1244.000000|\n|         754|             2| 1246.000000|\n|         752|             2| 1248.000000|\n|         747|             2| 1253.000000|\n|         747|             1| 1253.000399|\n|         733|             2| 1267.000000|\n|         732|             2| 1268.000000|\n|         725|             1| 1275.000392|\n|        3279|             4| 1279.001564|\n|         720|             2| 1280.000000|\n|         720|             1| 1280.000391|\n|         715|             2| 1285.000000|\n|         704|             2| 1296.000000|\n|         698|             2| 1302.000000|\n|         694|             2| 1306.000000|\n|         693|             2| 1307.000000|\n|         691|             2| 1309.000000|\n|         672|             2| 1328.000000|\n|         670|             2| 1330.000000|\n|         641|             2| 1359.000000|\n|         630|             1| 1370.000365|\n|         630|             1| 1370.000365|\n|         630|             1| 1370.000365|\n|         630|             1| 1370.000365|\n|         630|             1| 1370.000365|\n|         630|             1| 1370.000365|\n|        3390|             5| 1390.003237|\n|         605|             2| 1395.000000|\n|        3395|             8| 1395.012903|\n|         572|             2| 1428.000000|\n|        3447|             4| 1447.001382|\n|         540|             1| 1460.000342|\n|        3493|             3| 1493.000335|\n|        3500|             4| 1500.001333|\n|         498|             1| 1502.000333|\n|         480|             1| 1520.000329|\n|         438|             1| 1562.000320|\n|         407|             1| 1593.000314|\n|        3608|             4| 1608.001244|\n|        3672|             5| 1672.002691|\n|        3820|             5| 1820.002473|\n|        4316|             4| 2316.000864|\n|        4676|             3| 2676.000187|\n|        5095|             2| 3095.000000|\n\n\n:::\n:::\n\n\n\n\n# Visualizing Centering and Scaling in 1-D\n\n## Original data\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(ames_train, aes(x = Gr_Liv_Area)) +\n  geom_histogram() +\n  theme(text = element_text(size = 20)) \n```\n\n::: {.cell-output-display}\n![](06-knn-workflows_files/figure-revealjs/unnamed-chunk-7-1.png){width=960}\n:::\n:::\n\n\n\n\n## Centering\n\n- What's different between these two plots\n\n::::{.columns}\n\n:::{.column}\nOriginal data\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\names_train |> \nggplot(aes(x = Gr_Liv_Area)) +\n  geom_histogram() +\n  theme(text = element_text(size = 20)) \n```\n\n::: {.cell-output-display}\n![](06-knn-workflows_files/figure-revealjs/unnamed-chunk-8-1.png){width=960}\n:::\n:::\n\n\n\n:::\n\n::: {.column}\nCentered data\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\names_train |> mutate(Gr_Liv_Area_Centered = Gr_Liv_Area - mean(Gr_Liv_Area)) |> \nggplot(aes(x = Gr_Liv_Area_Centered)) +\n  geom_histogram() +\n  theme(text = element_text(size = 20))\n```\n\n::: {.cell-output-display}\n![](06-knn-workflows_files/figure-revealjs/unnamed-chunk-9-1.png){width=960}\n:::\n:::\n\n\n\n:::\n::::\n\n## Scaling\n\n- What's different between these two plots\n\n::::{.columns}\n:::{.column}\nOriginal data\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\names_train |> \nggplot(aes(x = Gr_Liv_Area)) +\n  geom_histogram() +\n  theme(text = element_text(size = 20)) \n```\n\n::: {.cell-output-display}\n![](06-knn-workflows_files/figure-revealjs/unnamed-chunk-10-1.png){width=960}\n:::\n:::\n\n\n\n:::\n\n::: {.column}\nNormalized (centered and scaled) data\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\names_train |> mutate(Gr_Liv_Area_Centered_Scaled = (Gr_Liv_Area - mean(Gr_Liv_Area))/sd(Gr_Liv_Area)) |> \nggplot(aes(x = Gr_Liv_Area_Centered_Scaled)) +\n  geom_histogram() +\n  theme(text = element_text(size = 20))\n```\n\n::: {.cell-output-display}\n![](06-knn-workflows_files/figure-revealjs/unnamed-chunk-11-1.png){width=960}\n:::\n:::\n\n\n\n:::\n::::\n\n# Visualizing Centering and Scaling: 2D\n\n## Original Data\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nggplot(ames_train, aes(x = Gr_Liv_Area, y = Bedroom_AbvGr)) + \n  geom_point()\n```\n\n::: {.cell-output-display}\n![](06-knn-workflows_files/figure-revealjs/unnamed-chunk-12-1.png){width=960}\n:::\n:::\n\n\n\n\n## Centering\n\n- What's different between these two plots\n\n::::{.columns}\n:::{.column}\nOriginal Data\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\names_train |> \nggplot(aes(x = Gr_Liv_Area, y = Bedroom_AbvGr)) + \n  geom_point()+\n  theme(text = element_text(size = 20))\n```\n\n::: {.cell-output-display}\n![](06-knn-workflows_files/figure-revealjs/unnamed-chunk-13-1.png){width=960}\n:::\n:::\n\n\n\n:::\n\n::: {.column}\nCentered data\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\names_train |> mutate(Gr_Liv_Area_Centered = Gr_Liv_Area - mean(Gr_Liv_Area),\n                     Bedroom_AbvGr_Centered = Bedroom_AbvGr - mean(Bedroom_AbvGr)) |> \nggplot(aes(x = Gr_Liv_Area_Centered, y = Bedroom_AbvGr_Centered)) +\n  geom_point() +\n  theme(text = element_text(size = 20))\n```\n\n::: {.cell-output-display}\n![](06-knn-workflows_files/figure-revealjs/unnamed-chunk-14-1.png){width=960}\n:::\n:::\n\n\n\n:::\n::::\n\n## Scaling\n\n- What's different between these two plots\n\n::::{.columns}\n:::{.column}\nOriginal data\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\names_train |> \nggplot(aes(x = Gr_Liv_Area, y = Bedroom_AbvGr)) + \n  geom_point()+\n  theme(text = element_text(size = 20))\n```\n\n::: {.cell-output-display}\n![](06-knn-workflows_files/figure-revealjs/unnamed-chunk-15-1.png){width=960}\n:::\n:::\n\n\n\n:::\n\n::: {.column}\nNormalized data\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\names_train |> mutate(Gr_Liv_Area_Scaled = scale(Gr_Liv_Area),\n                     Bedroom_AbvGr_Scaled = scale(Bedroom_AbvGr)) |> \nggplot(aes(x = Gr_Liv_Area_Scaled, y = Bedroom_AbvGr_Scaled)) +\n  geom_point() +\n  theme(text = element_text(size = 20))\n```\n\n::: {.cell-output-display}\n![](06-knn-workflows_files/figure-revealjs/unnamed-chunk-16-1.png){width=960}\n:::\n:::\n\n\n\n:::\n::::\n\n# Dealing with new data\n\n## New Observation\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nnew_house <- tibble(Gr_Liv_Area = 2000, Bedroom_AbvGr = 2)\nggplot(ames_train, aes(x = Gr_Liv_Area, y = Bedroom_AbvGr, color = Sale_Price)) + \n  geom_point() +\n  geom_point(data = new_house, color = \"red\")\n```\n\n::: {.cell-output-display}\n![](06-knn-workflows_files/figure-revealjs/unnamed-chunk-17-1.png){width=960}\n:::\n:::\n\n\n\n\n-   Where should we put this point on the normalized plot?\n\n## Plotting new observation witout normalizing\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nnew_house <- tibble(Gr_Liv_Area = 2000, Bedroom_AbvGr = 2)\names_train |> mutate(Gr_Liv_Area_Scaled = scale(Gr_Liv_Area), Bedroom_AbvGr_Scaled = scale(Bedroom_AbvGr)) |> \n  ggplot(aes(x = Gr_Liv_Area_Scaled, y = Bedroom_AbvGr_Scaled)) +\n  geom_point() +\n  geom_point(data = new_house, mapping = aes(Gr_Liv_Area, y = Bedroom_AbvGr), color = \"red\")\n```\n\n::: {.cell-output-display}\n![](06-knn-workflows_files/figure-revealjs/unnamed-chunk-18-1.png){width=960}\n:::\n:::\n\n\n\n\n-   Does this look right?\n\n## Normalized using training data\n\n::::{.columns}\n:::{.column}\nOriginal Data\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nnew_house <- tibble(Gr_Liv_Area = 2000, Bedroom_AbvGr = 2)\nggplot(ames_train, aes(x = Gr_Liv_Area, y = Bedroom_AbvGr)) + \n  geom_point() +\n  geom_point(data = new_house, color = \"red\") +\n  theme(text = element_text(size = 20))\n```\n\n::: {.cell-output-display}\n![](06-knn-workflows_files/figure-revealjs/unnamed-chunk-19-1.png){width=960}\n:::\n:::\n\n\n\n:::\n\n:::{.column}\nScaled data\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\names_train_scaled <- \n  ames_train |> mutate(Gr_Liv_Area_Scaled = scale(Gr_Liv_Area), Bedroom_AbvGr_Scaled = scale(Bedroom_AbvGr))\n\nnew_house <- tibble(Gr_Liv_Area = 2000, Bedroom_AbvGr = 2) |> \n  mutate(Gr_Liv_Area_Scaled = (Gr_Liv_Area - mean(ames_train$Gr_Liv_Area))/sd(ames_train$Gr_Liv_Area), \n         Bedroom_AbvGr_Scaled = (Bedroom_AbvGr - mean(ames_train$Bedroom_AbvGr))/ sd(ames_train$Bedroom_AbvGr))\n\names_train_scaled |> \n  ggplot(aes(x = Gr_Liv_Area_Scaled, y = Bedroom_AbvGr_Scaled)) +\n  geom_point() +\n  geom_point(data = new_house, color = \"red\")+\n  theme(text = element_text(size = 20))\n```\n\n::: {.cell-output-display}\n![](06-knn-workflows_files/figure-revealjs/unnamed-chunk-20-1.png){width=960}\n:::\n:::\n\n\n\n:::\n::::\n\n## Compute new distances\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnew_house |> kable()\n```\n\n::: {.cell-output-display}\n\n\n| Gr_Liv_Area| Bedroom_AbvGr| Gr_Liv_Area_Scaled| Bedroom_AbvGr_Scaled|\n|-----------:|-------------:|------------------:|--------------------:|\n|        2000|             2|          0.9900212|            -1.041808|\n\n\n:::\n\n```{.r .cell-code}\names_dist <- ames_train_scaled |> \n  mutate(orig_dist = sqrt((Gr_Liv_Area - 2000)^2 + (Bedroom_AbvGr-2)^2),\n         scaled_dist = sqrt((Gr_Liv_Area_Scaled - 0.99)^2 + (Bedroom_AbvGr_Scaled-(-1.04))^2))\n\norig_closest <- ames_dist |> \n  arrange(orig_dist) |> \n  head(10)\n\nscaled_closest <- ames_dist |> \n  arrange(scaled_dist) |> \n  head(10)\n```\n:::\n\n\n\n\n## Scaled distances look better {.smaller}\n\n:::: columns\n::: column\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\norig_closest |> select(Gr_Liv_Area, Bedroom_AbvGr, Gr_Liv_Area_Scaled, Bedroom_AbvGr_Scaled, orig_dist, scaled_dist) |> kable()\n```\n\n::: {.cell-output-display}\n\n\n| Gr_Liv_Area| Bedroom_AbvGr| Gr_Liv_Area_Scaled| Bedroom_AbvGr_Scaled| orig_dist| scaled_dist|\n|-----------:|-------------:|------------------:|--------------------:|---------:|-----------:|\n|        2000|             3|          0.9900212|            0.1621766|  1.000000|   1.2021766|\n|        2000|             3|          0.9900212|            0.1621766|  1.000000|   1.2021766|\n|        2004|             4|          0.9979593|            1.3661617|  4.472136|   2.4061749|\n|        1995|             4|          0.9800985|            1.3661617|  5.385165|   2.4061821|\n|        2006|             2|          1.0019284|           -1.0418085|  6.000000|   0.0120647|\n|        2007|             3|          1.0039129|            0.1621766|  7.071068|   1.2022571|\n|        2007|             3|          1.0039129|            0.1621766|  7.071068|   1.2022571|\n|        1992|             3|          0.9741448|            0.1621766|  8.062258|   1.2022812|\n|        2008|             3|          1.0058975|            0.1621766|  8.062258|   1.2022817|\n|        1991|             3|          0.9721603|            0.1621766|  9.055385|   1.2023090|\n\n\n:::\n:::\n\n\n\n:::\n\n::: column\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nscaled_closest |>  select(Gr_Liv_Area, Bedroom_AbvGr, Gr_Liv_Area_Scaled, Bedroom_AbvGr_Scaled, orig_dist, scaled_dist) |>  kable()\n```\n\n::: {.cell-output-display}\n\n\n| Gr_Liv_Area| Bedroom_AbvGr| Gr_Liv_Area_Scaled| Bedroom_AbvGr_Scaled| orig_dist| scaled_dist|\n|-----------:|-------------:|------------------:|--------------------:|---------:|-----------:|\n|        2006|             2|          1.0019284|            -1.041809|         6|  0.01206470|\n|        1987|             2|          0.9642222|            -1.041809|        13|  0.02584121|\n|        2014|             2|          1.0178047|            -1.041809|        14|  0.02786344|\n|        1978|             2|          0.9463613|            -1.041809|        22|  0.04367615|\n|        1976|             2|          0.9423922|            -1.041809|        24|  0.04764210|\n|        2028|             2|          1.0455882|            -1.041809|        28|  0.05561764|\n|        2034|             2|          1.0574955|            -1.041809|        34|  0.06751968|\n|        2046|             2|          1.0813099|            -1.041809|        46|  0.09132782|\n|        1932|             2|          0.8550726|            -1.041809|        68|  0.13493957|\n|        1922|             2|          0.8352272|            -1.041809|        78|  0.15478340|\n\n\n:::\n:::\n\n\n\n:::\n::::\n\n## Which plot looks better {.smaller}\n\n:::: columns\n::: column\nOriginal distances\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nggplot(ames_train, aes(x = Gr_Liv_Area, y = Bedroom_AbvGr, color = Sale_Price)) + \n  geom_point() +\n  geom_point(data = new_house, color = \"red\") +\n  geom_point(data = orig_closest, color = \"green\") +\n  theme(text = element_text(size = 20))\n```\n\n::: {.cell-output-display}\n![](06-knn-workflows_files/figure-revealjs/unnamed-chunk-24-1.png){width=960}\n:::\n:::\n\n\n\n:::\n\n::: column\nScaled distances\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nggplot(ames_train, aes(x = Gr_Liv_Area, y = Bedroom_AbvGr, color = Sale_Price)) + \n  geom_point() +\n  geom_point(data = new_house, color = \"red\") +\n  geom_point(data = scaled_closest, color = \"green\") +\n  theme(text = element_text(size = 20))\n```\n\n::: {.cell-output-display}\n![](06-knn-workflows_files/figure-revealjs/unnamed-chunk-25-1.png){width=960}\n:::\n:::\n\n\n\n:::\n::::\n\n# Dealing with the test set\n\n\n## Scaling Test Set\n\n-   Subtract mean of corresponding variable in *training* set\n-   Divide by sd of corresponding variable in *training* set\n\n## Visualizing Training and Test Sets: Untransformed\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nggplot(ames_train, aes(x = Gr_Liv_Area, y = Bedroom_AbvGr)) + \n  geom_point(color = \"red\", alpha = 0.2) +\n  geom_point(data = ames_test, color = \"blue\", alpha = 0.2) +\n  theme(text = element_text(size = 20))\n```\n\n::: {.cell-output-display}\n![](06-knn-workflows_files/figure-revealjs/unnamed-chunk-26-1.png){width=960}\n:::\n:::\n\n\n\n\n## Visualizing Training and Test Sets: Self Centered\n\n:::: columns\n::: column\nOriginal Data\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nggplot(ames_train, aes(x = Gr_Liv_Area, y = Bedroom_AbvGr)) + \n  geom_point(color = \"red\", alpha = 0.2) +\n  geom_point(data = ames_test, color = \"blue\", alpha = 0.2) +\n  theme(text = element_text(size = 20))\n```\n\n::: {.cell-output-display}\n![](06-knn-workflows_files/figure-revealjs/unnamed-chunk-27-1.png){width=960}\n:::\n:::\n\n\n\n:::\n\n::: column\nScaled Data\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\names_train_centered <- ames_train |> \n  mutate(Gr_Liv_Area_Scaled = scale(Gr_Liv_Area),\n         Bedroom_AbvGr_Scaled = scale(Bedroom_AbvGr))\names_test_self_centered <- ames_test |> \n  mutate(Gr_Liv_Area_Scaled = scale(Gr_Liv_Area),\n         Bedroom_AbvGr_Scaled = scale(Bedroom_AbvGr))\nggplot(ames_train_centered, aes(x = Gr_Liv_Area_Scaled, y = Bedroom_AbvGr_Scaled)) + \n  geom_point(color = \"red\", alpha = 0.2) +\n  geom_point(data = ames_test_self_centered, color = \"blue\", alpha = 0.2) +\n  theme(text = element_text(size = 20))\n```\n\n::: {.cell-output-display}\n![](06-knn-workflows_files/figure-revealjs/unnamed-chunk-28-1.png){width=960}\n:::\n:::\n\n\n\n:::\n::::\n\n## Visualizing Training and Test Sets: Training Centered\n\n:::: columns\n::: column\nOriginal data\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nggplot(ames_train, aes(x = Gr_Liv_Area, y = Bedroom_AbvGr)) + \n  geom_point(color = \"red\", alpha = 0.2) +\n  geom_point(data = ames_test, color = \"blue\", alpha = 0.2) +\n  theme(text = element_text(size = 20))\n```\n\n::: {.cell-output-display}\n![](06-knn-workflows_files/figure-revealjs/unnamed-chunk-29-1.png){width=960}\n:::\n:::\n\n\n\n:::\n\n::: column\nScaled data\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\names_train_centered <- ames_train |> \n  mutate(Gr_Liv_Area_Scaled = scale(Gr_Liv_Area),\n         Bedroom_AbvGr_Scaled = scale(Bedroom_AbvGr))\names_test_self_centered <- ames_test |> \n  mutate(Gr_Liv_Area_Scaled = (Gr_Liv_Area - mean(ames_train$Gr_Liv_Area))/sd(ames_train$Gr_Liv_Area), \n         Bedroom_AbvGr_Scaled = (Bedroom_AbvGr - mean(ames_train$Bedroom_AbvGr))/ sd(ames_train$Bedroom_AbvGr))\nggplot(ames_train_centered, aes(x = Gr_Liv_Area_Scaled, y = Bedroom_AbvGr_Scaled)) + \n  geom_point(color = \"red\", alpha = 0.2) +\n  geom_point(data = ames_test_self_centered, color = \"blue\", alpha = 0.2) +\n  theme(text = element_text(size = 20))\n```\n\n::: {.cell-output-display}\n![](06-knn-workflows_files/figure-revealjs/unnamed-chunk-30-1.png){width=960}\n:::\n:::\n\n\n\n:::\n::::\n\n# Recipes and Workflows\n\n## Preprocessing + Feature Engineering {.smaller}\n\n-   Preprocessing: reformatting and transforming data so it can be used for modeling\n    +   Centering and scaling\n    +   Converting categorical data into dummy variables or the correct format\n    +   Dealing with missing values\n-   Feature Engineering: reformatting and transforming data to improve the performance of your model\n    +   Combining variables and dimension reduction techniques\n    +   Transforming variables (e.g. squaring or logging)\n-   For recommended preprocessing steps see [Appendix A of TMWR](https://www.tmwr.org/pre-proc-table)\n-   `recipes`: combine feature engineering and preprocessing steps into single object that can be applied to different data sets\n\n## Model workflow\n\n-   Start with raw data\n-   Preprocessing and feature engineering steps\n-   Fit \"model\"\n-   Make predictions using model\n\n## Where does my model start?\n\n-   Start with raw data\n-   Model starts here\n    -   Preprocessing and feature engineering steps\n    -   Fit \"model\"\n-   Make predictions using model\n\n## Model Assessment\n\n-   Start with raw data\n-   Split Data\n-   Using training data\n    -   Preprocessing and feature engineering steps\n    -   Fit \"model\"\n-   Make predictions on test set\n-   Compute error metrics\n\n## `workflows` and `recipes` in `tidymodels`\n\n-   `tidymodels` provides `workflows` that combine model fitting with preprocessing steps and consist of:\n    -   A model object\n    -   A `recipe` which combines all of the preprocessing steps\n\n## Creating a KNN model \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nknn10_model <- nearest_neighbor(neighbors = 10) |>   # 10-nn regression\n  set_engine(\"kknn\") |>\n  set_mode(\"regression\")\n```\n:::\n\n\n\n\n## `recipe`'s in `tidymodels`\n\n1.  Call `receipe` with R formula and training set to assign features roles (predictor vs. outcome).\n2.  Sequence of `step_*` specifying the list of transformations.\n3.  Apply `recipe` to new data using `predict`.\n\n## Center and Scale Recipe\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\names_preproc <- recipe(Sale_Price ~ Bedroom_AbvGr + Gr_Liv_Area, data = ames_train) |> \n  step_normalize(all_numeric_predictors())\n```\n:::\n\n\n\n\n## Create `workflow`\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nknn10_workflow <- workflow() |> \n  add_model(knn10_model) |> \n  add_recipe(ames_preproc)\n```\n:::\n\n\n\n\n## Fitting Model\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nknnfit10 <- knn10_workflow |> \n  fit(data = ames_train)\n```\n:::\n\n\n\n\n## Making predictions: Single observation\n\nTest Point: `Gr_Liv_area` = 2000 square feet, and `Bedroom_AbvGr` = 3, then\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnew_house |> kable()\n```\n\n::: {.cell-output-display}\n\n\n| Gr_Liv_Area| Bedroom_AbvGr| Gr_Liv_Area_Scaled| Bedroom_AbvGr_Scaled|\n|-----------:|-------------:|------------------:|--------------------:|\n|        2000|             2|          0.9900212|            -1.041808|\n\n\n:::\n\n```{.r .cell-code}\n# obtain 10-nn prediction\npredict(knnfit10, new_data = new_house) |> kable()\n```\n\n::: {.cell-output-display}\n\n\n|    .pred|\n|--------:|\n| 342204.5|\n\n\n:::\n:::\n\n\n\n\n## Making Predictions: Test Set\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# obtain 10-nn prediction\npredict(knnfit10, new_data = ames_test) |> head() |> kable()\n```\n\n::: {.cell-output-display}\n\n\n|    .pred|\n|--------:|\n| 178219.0|\n| 167930.0|\n| 177574.5|\n| 238122.2|\n| 126330.0|\n|  80109.5|\n\n\n:::\n:::\n\n\n\n\n\n## [Linear Regression vs K-Nearest Neighbors]{.r-fit-text} {.smaller}\n\n- Linear regression is a parametric approach (with restrictive assumptions), KNN is non-parametric.\n- Linear regression works for regression problems ($Y$ numerical), KNN can be used for both regression and classification - i.e. $Y$ qualitative\n- Linear regression is interpretable, KNN is not.\n- Linear regression can accommodate qualitative predictors and can be extended to include interaction terms as well while KNN does not allow for qualitative predictors\n- Performance: KNN can be pretty good for small $p$, that is, $p \\le 4$ and large $n$. Performance of KNN deteriorates as $p$ increases - *curse of dimensionality*\n\n# Choosing a model\n\n## Linear regression\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Best model from last time\nfit3 <- linear_reg() |> \n  set_engine(\"lm\") |> \n  fit(Sale_Price ~ Gr_Liv_Area + Bedroom_AbvGr, data = ames_train)\n```\n:::\n\n\n\n\n## 5-NN\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nknn5_model <- nearest_neighbor(neighbors = 5) |> \n  set_engine(\"kknn\") |> \n  set_mode(\"regression\")\n\nknn5_fit <- workflow() |> \n  add_model(knn5_model) |> \n  add_recipe(ames_preproc) |> \n  fit(data = ames_train)\n```\n:::\n\n\n\n\n## Making test predictions\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\names_test_preds <- ames_test |> \n  mutate(lr_preds = predict(fit3, new_data = ames_test)$.pred,\n         knn5_preds = predict(knn5_fit, new_data = ames_test)$.pred,\n         knn10_preds = predict(knnfit10, new_data = ames_test)$.pred)\n```\n:::\n\n\n\n\n## Computing Error Metrics: RMSE\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrmse(ames_test_preds, estimate = lr_preds, truth = Sale_Price) |> kable()\n```\n\n::: {.cell-output-display}\n\n\n|.metric |.estimator | .estimate|\n|:-------|:----------|---------:|\n|rmse    |standard   |  52272.26|\n\n\n:::\n\n```{.r .cell-code}\nrmse(ames_test_preds, estimate = knn5_preds, truth = Sale_Price) |> kable()\n```\n\n::: {.cell-output-display}\n\n\n|.metric |.estimator | .estimate|\n|:-------|:----------|---------:|\n|rmse    |standard   |  50954.43|\n\n\n:::\n\n```{.r .cell-code}\nrmse(ames_test_preds, estimate = knn10_preds, truth = Sale_Price) |> kable()\n```\n\n::: {.cell-output-display}\n\n\n|.metric |.estimator | .estimate|\n|:-------|:----------|---------:|\n|rmse    |standard   |  48926.63|\n\n\n:::\n:::\n\n\n\n\n## Computing Error Metrics: $R^2$\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrsq(ames_test_preds, estimate = lr_preds, truth = Sale_Price) |> kable()\n```\n\n::: {.cell-output-display}\n\n\n|.metric |.estimator | .estimate|\n|:-------|:----------|---------:|\n|rsq     |standard   |  0.574702|\n\n\n:::\n\n```{.r .cell-code}\nrsq(ames_test_preds, estimate = knn5_preds, truth = Sale_Price) |> kable()\n```\n\n::: {.cell-output-display}\n\n\n|.metric |.estimator | .estimate|\n|:-------|:----------|---------:|\n|rsq     |standard   |  0.605208|\n\n\n:::\n\n```{.r .cell-code}\nrsq(ames_test_preds, estimate = knn10_preds, truth = Sale_Price) |> kable()\n```\n\n::: {.cell-output-display}\n\n\n|.metric |.estimator | .estimate|\n|:-------|:----------|---------:|\n|rsq     |standard   | 0.6296263|\n\n\n:::\n:::\n",
    "supporting": [
      "06-knn-workflows_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}