<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.39">

  <meta name="author" content="Eric Friedlander">
  <title>MAT 427 - Spring 2025 – MAT-427: Multiple Linear Regression + Data Splitting</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto-72811bd306436bae30bfb620bac545c3.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">MAT-427: Multiple Linear Regression + Data Splitting</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Eric Friedlander 
</div>
</div>
</div>

</section>
<section id="computational-setup" class="slide level2">
<h2>Computational Setup</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a></a><span class="fu">library</span>(knitr)</span>
<span id="cb1-3"><a></a><span class="fu">library</span>(readODS)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="question" class="slide level2">
<h2><span style="color:blue">Question!!!</span></h2>
<p>As a model’s flexibility increases:</p>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">Questions</a></li><li><a href="#tabset-1-2">Answers</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<ol type="1">
<li>its variance (increases/decreases)</li>
<li>its bias (increases/decreases)</li>
<li>its training MSE (increases/decreases)</li>
<li>its test MSE (describe)</li>
</ol>
</div>
<div id="tabset-1-2">
<ol type="1">
<li>its variance (<strong>increases</strong>)</li>
<li>its bias (<strong>decreases</strong>)</li>
<li>its training MSE (<strong>decreases</strong>)</li>
<li>its test MSE (<strong>decreases at first, then increases and the model starts to overfit, U-shaped</strong>)</li>
</ol>
</div>
</div>
</div>
</section>
<section id="bias-variance-trade-off-app" class="slide level2 smaller">
<h2>Bias-Variance Trade-Off App</h2>
<p>When Dr.&nbsp;F tell you, navigate to <a href="https://efriedlander.shinyapps.io/BVTappRegression/">this app</a></p>
<ul>
<li>Select your assigned data set and look at the second row of plots</li>
<li>Which order polynomials have the lowest Bias, Variance, training MSE, and test MSE
<ul>
<li>Which order polynomial would you say is best?</li>
</ul></li>
<li>Scroll down to the last row of plots and discuss how these images support your answers</li>
<li>Repeat this process for different amounts of noise?</li>
<li>Return to the first row of plots and select three different order polynomials based on your answers above… is the bias variance trade-off visible in this plot?</li>
</ul>
</section>
<section>
<section id="modeling-in-r" class="title-slide slide level1 center">
<h1>Modeling in R</h1>

</section>
<section id="outlet-data" class="slide level2 smaller">
<h2>Outlet Data</h2>
<p>Suppose the CEO of a restaurant franchise is considering opening new outlets in different cities. They would like to expand their business to cities that give them higher profits with the assumption that highly populated cities will probably yield higher profits.</p>
<p>They have data on the population (in 100,000) and profit (in $1,000) at 97 cities where they currently have outlets.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a></a>outlets <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"../data/outlets.rds"</span>)   <span class="co"># load dataset</span></span>
<span id="cb2-2"><a></a><span class="fu">head</span>(outlets) <span class="sc">|&gt;</span> <span class="fu">kable</span>() <span class="co"># first six observations of the dataset</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: right;">population</th>
<th style="text-align: right;">profit</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">6.1101</td>
<td style="text-align: right;">17.5920</td>
</tr>
<tr class="even">
<td style="text-align: right;">5.5277</td>
<td style="text-align: right;">9.1302</td>
</tr>
<tr class="odd">
<td style="text-align: right;">8.5186</td>
<td style="text-align: right;">13.6620</td>
</tr>
<tr class="even">
<td style="text-align: right;">7.0032</td>
<td style="text-align: right;">11.8540</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5.8598</td>
<td style="text-align: right;">6.8233</td>
</tr>
<tr class="even">
<td style="text-align: right;">8.3829</td>
<td style="text-align: right;">11.8860</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="r-as-an-open-source-language" class="slide level2">
<h2>R as an open-source language</h2>
<ul>
<li>R is an open source language
<ul>
<li>Advantages:
<ul>
<li>Packages for almost anything you want</li>
<li>“Cutting edge” methods rolled out quickly and early</li>
</ul></li>
<li>Disadvantages
<ul>
<li>Many packages (especially new ones) may have bugs</li>
<li>Lots of syntactical diversity</li>
<li>Syntax is frequently dependent on the needs of the person who wrote the package and conventions at the time the package was created</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="enter-tidyverse" class="slide level2">
<h2>Enter <code>tidyverse</code></h2>
<blockquote>
<p>The tidyverse is an opinionated collection of R packages designed for data science. All packages share an underlying design philosophy, grammar, and data structures.</p>
</blockquote>
<ul>
<li><code>tidyverse</code> is for manipulating and visualizing data</li>
<li>the <code>tidyverse</code> is a <em>meta-package</em> meaning it is a collection of a bunch of other packages</li>
</ul>
</section>
<section id="enter-tidymodels" class="slide level2">
<h2>Enter <code>tidymodels</code></h2>
<blockquote>
<p>The tidymodels framework is a collection of packages for modeling and machine learning using tidyverse principles.</p>
</blockquote>
<ul>
<li><code>tidymodels</code> creates a unified framework for building models in R</li>
<li>Eric’s opinion: similar idea to <code>scikit-learn</code> in Python</li>
</ul>
</section>
<section id="back-to-linear-regression" class="slide level2">
<h2>Back to linear regression</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> outlets) <span class="sc">+</span></span>
<span id="cb3-2"><a></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> population, <span class="at">y =</span> profit)) <span class="sc">+</span>    <span class="co"># create scatterplot</span></span>
<span id="cb3-3"><a></a>  <span class="fu">geom_smooth</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> population, <span class="at">y =</span> profit), </span>
<span id="cb3-4"><a></a>              <span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>)   <span class="co"># add the regression line</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="04-MultipleRegression_files/figure-revealjs/unnamed-chunk-2-1.png" width="960" class="r-stretch"></section>
<section id="classic-linear-regression-in-r" class="slide level2 smaller">
<h2>Classic Linear Regression in R</h2>
<div class="columns">
<div class="column">
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a></a>outlets_model <span class="ot">&lt;-</span> <span class="fu">lm</span>(profit <span class="sc">~</span> population, <span class="at">data =</span> outlets)</span>
<span id="cb4-2"><a></a>outlets_model</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = profit ~ population, data = outlets)

Coefficients:
(Intercept)   population  
     -3.896        1.193  </code></pre>
</div>
</div>
</div><div class="column">
<p>This corresponds to the model:</p>
<p><span class="math display">\[
\begin{aligned}
\text{Profit}  &amp;= -3.90 + 1.19\times\text{Population}\\
\hat{Y}_i &amp;= -3.90 + 1.19X_i
\end{aligned}
\]</span> i.e.&nbsp;<span class="math inline">\(\hat{\beta}_0 = -3.90\)</span> and <span class="math inline">\(\hat{\beta}_1 = 1.19\)</span></p>
</div></div>
</section>
<section id="modeling-with-tidymodels" class="slide level2">
<h2>Modeling with <code>tidymodels</code></h2>
<ol type="1">
<li><p>Specify mathematical structure of model (e.g.&nbsp;linear regression, logistic regression)</p></li>
<li><p>Specify the <em>engine</em> for fitting the model. (e.g.&nbsp;<code>lm</code>, <code>stan</code>, <code>glmnet</code>).</p></li>
<li><p>When required, declare the mode of the model (i.e.&nbsp;regression or classification).</p></li>
</ol>
</section>
<section id="linear-regression-with-tidymodels" class="slide level2">
<h2>Linear Regression with <code>tidymodels</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" data-code-line-numbers="|2|3|5|6|11,12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a></a><span class="co"># Usually put these at the top</span></span>
<span id="cb6-2"><a></a><span class="fu">library</span>(tidymodels) <span class="co"># load tidymodels package</span></span>
<span id="cb6-3"><a></a><span class="fu">tidymodels_prefer</span>() <span class="co"># avoid common conflicts</span></span>
<span id="cb6-4"><a></a></span>
<span id="cb6-5"><a></a>lm_model <span class="ot">&lt;-</span> <span class="fu">linear_reg</span>() <span class="sc">|&gt;</span> <span class="co"># Step 1</span></span>
<span id="cb6-6"><a></a>  <span class="fu">set_engine</span>(<span class="st">"lm"</span>) <span class="co"># Step 2</span></span>
<span id="cb6-7"><a></a></span>
<span id="cb6-8"><a></a><span class="co"># Step 3 not required since linear regression can't be used for classification</span></span>
<span id="cb6-9"><a></a></span>
<span id="cb6-10"><a></a><span class="co"># Fit the model</span></span>
<span id="cb6-11"><a></a>lm_model_fit <span class="ot">&lt;-</span> lm_model <span class="sc">|&gt;</span> </span>
<span id="cb6-12"><a></a>  <span class="fu">fit</span>(profit <span class="sc">~</span> population, <span class="at">data =</span> outlets)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="linear-regression-with-tidymodels-1" class="slide level2">
<h2>Linear Regression with <code>tidymodels</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a></a>lm_model_fit <span class="sc">|&gt;</span> </span>
<span id="cb7-2"><a></a>  <span class="fu">tidy</span>() <span class="sc">|&gt;</span> </span>
<span id="cb7-3"><a></a>  <span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;">term</th>
<th style="text-align: right;">estimate</th>
<th style="text-align: right;">std.error</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">-3.895781</td>
<td style="text-align: right;">0.7194828</td>
<td style="text-align: right;">-5.414696</td>
<td style="text-align: right;">5e-07</td>
</tr>
<tr class="even">
<td style="text-align: left;">population</td>
<td style="text-align: right;">1.193034</td>
<td style="text-align: right;">0.0797439</td>
<td style="text-align: right;">14.960806</td>
<td style="text-align: right;">0e+00</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Same model as before:</p>
<p><span class="math display">\[
\begin{aligned}
\text{Profit}  &amp;= -3.90 + 1.19\times\text{Population}\\
\hat{Y}_i &amp;= -3.90 + 1.19X_i
\end{aligned}
\]</span></p>
</section>
<section id="linear-regression-in-r-prediction" class="slide level2">
<h2>Linear Regression in R: Prediction</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a></a>new_cities <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">population =</span> <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="dv">7</span>, <span class="dv">3</span>))</span>
<span id="cb8-2"><a></a></span>
<span id="cb8-3"><a></a>lm_model_fit <span class="sc">|&gt;</span> </span>
<span id="cb8-4"><a></a><span class="fu">predict</span>(<span class="at">new_data =</span> new_cities) <span class="sc">|&gt;</span> </span>
<span id="cb8-5"><a></a>  <span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: right;">.pred</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">3.1516725</td>
</tr>
<tr class="even">
<td style="text-align: right;">2.1711684</td>
</tr>
<tr class="odd">
<td style="text-align: right;">-6.0760699</td>
</tr>
<tr class="even">
<td style="text-align: right;">5.3468146</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1.8470768</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.8842374</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1.2661841</td>
</tr>
<tr class="even">
<td style="text-align: right;">2.3800563</td>
</tr>
<tr class="odd">
<td style="text-align: right;">8.8322652</td>
</tr>
<tr class="even">
<td style="text-align: right;">2.1678223</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3.9795578</td>
</tr>
<tr class="even">
<td style="text-align: right;">2.3280284</td>
</tr>
<tr class="odd">
<td style="text-align: right;">11.3254345</td>
</tr>
<tr class="even">
<td style="text-align: right;">1.6186056</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5.2362302</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.8737243</td>
</tr>
<tr class="odd">
<td style="text-align: right;">-1.1184131</td>
</tr>
<tr class="even">
<td style="text-align: right;">1.5488673</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2.8771860</td>
</tr>
<tr class="even">
<td style="text-align: right;">3.8945697</td>
</tr>
<tr class="odd">
<td style="text-align: right;">16.3450392</td>
</tr>
<tr class="even">
<td style="text-align: right;">4.9894386</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1.8909563</td>
</tr>
<tr class="even">
<td style="text-align: right;">5.2970217</td>
</tr>
<tr class="odd">
<td style="text-align: right;">11.5095750</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.0661788</td>
</tr>
<tr class="odd">
<td style="text-align: right;">12.7612003</td>
</tr>
<tr class="even">
<td style="text-align: right;">1.8870375</td>
</tr>
<tr class="odd">
<td style="text-align: right;">8.2183571</td>
</tr>
<tr class="even">
<td style="text-align: right;">3.1575999</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2.0554480</td>
</tr>
<tr class="even">
<td style="text-align: right;">1.2178679</td>
</tr>
<tr class="odd">
<td style="text-align: right;">7.7951011</td>
</tr>
<tr class="even">
<td style="text-align: right;">3.9076452</td>
</tr>
<tr class="odd">
<td style="text-align: right;">4.2144324</td>
</tr>
<tr class="even">
<td style="text-align: right;">12.3829600</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3.0038749</td>
</tr>
<tr class="even">
<td style="text-align: right;">2.4657828</td>
</tr>
<tr class="odd">
<td style="text-align: right;">11.4415654</td>
</tr>
<tr class="even">
<td style="text-align: right;">5.7849277</td>
</tr>
<tr class="odd">
<td style="text-align: right;">12.2894594</td>
</tr>
<tr class="even">
<td style="text-align: right;">3.7278807</td>
</tr>
<tr class="odd">
<td style="text-align: right;">7.0352033</td>
</tr>
<tr class="even">
<td style="text-align: right;">1.8464096</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0.8130212</td>
</tr>
<tr class="even">
<td style="text-align: right;">3.1340073</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2.5353752</td>
</tr>
<tr class="even">
<td style="text-align: right;">6.2398132</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1.8803603</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.8072596</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2.8806219</td>
</tr>
<tr class="even">
<td style="text-align: right;">9.4117370</td>
</tr>
<tr class="odd">
<td style="text-align: right;">10.4309074</td>
</tr>
<tr class="even">
<td style="text-align: right;">5.1180954</td>
</tr>
<tr class="odd">
<td style="text-align: right;">4.4672868</td>
</tr>
<tr class="even">
<td style="text-align: right;">1.8654243</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5.6099707</td>
</tr>
<tr class="even">
<td style="text-align: right;">4.4678752</td>
</tr>
<tr class="odd">
<td style="text-align: right;">7.3351427</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.5803775</td>
</tr>
<tr class="odd">
<td style="text-align: right;">6.6433521</td>
</tr>
<tr class="even">
<td style="text-align: right;">2.4511320</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1.0286620</td>
</tr>
<tr class="even">
<td style="text-align: right;">6.9798660</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3.5224190</td>
</tr>
<tr class="even">
<td style="text-align: right;">2.2906833</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1.6191880</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.4940967</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5.3365153</td>
</tr>
<tr class="even">
<td style="text-align: right;">7.9936234</td>
</tr>
<tr class="odd">
<td style="text-align: right;">-0.3778866</td>
</tr>
<tr class="even">
<td style="text-align: right;">13.1732384</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3.9017224</td>
</tr>
<tr class="even">
<td style="text-align: right;">2.0247437</td>
</tr>
<tr class="odd">
<td style="text-align: right;">-0.2404101</td>
</tr>
<tr class="even">
<td style="text-align: right;">-3.4666744</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5.0475641</td>
</tr>
<tr class="even">
<td style="text-align: right;">7.8018090</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0.9024262</td>
</tr>
<tr class="even">
<td style="text-align: right;">8.5608965</td>
</tr>
<tr class="odd">
<td style="text-align: right;">6.9886856</td>
</tr>
<tr class="even">
<td style="text-align: right;">-1.4533916</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5.7957400</td>
</tr>
<tr class="even">
<td style="text-align: right;">2.3572005</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3.4768438</td>
</tr>
<tr class="even">
<td style="text-align: right;">6.7878777</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1.5513093</td>
</tr>
<tr class="even">
<td style="text-align: right;">5.6196692</td>
</tr>
<tr class="odd">
<td style="text-align: right;">-2.2012039</td>
</tr>
<tr class="even">
<td style="text-align: right;">10.0700469</td>
</tr>
<tr class="odd">
<td style="text-align: right;">4.9185464</td>
</tr>
<tr class="even">
<td style="text-align: right;">-0.8316598</td>
</tr>
<tr class="odd">
<td style="text-align: right;">4.6019756</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.0603189</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2.8487076</td>
</tr>
<tr class="even">
<td style="text-align: right;">1.4164397</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2.7913354</td>
</tr>
<tr class="even">
<td style="text-align: right;">7.2661678</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3.0104673</td>
</tr>
<tr class="even">
<td style="text-align: right;">8.1565044</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a></a>new_cities <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">population =</span> <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="dv">7</span>, <span class="dv">3</span>))</span>
<span id="cb9-2"><a></a></span>
<span id="cb9-3"><a></a>new_cities <span class="ot">&lt;-</span> new_cities <span class="sc">|&gt;</span> </span>
<span id="cb9-4"><a></a>  <span class="fu">bind_cols</span>(<span class="fu">predict</span>(lm_model_fit, <span class="at">new_data =</span> new_cities, <span class="at">type =</span> <span class="st">"pred_int"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb9-5"><a></a>  <span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note: New data must be a data frame with the same columns names as the training data</p>
</section></section>
<section>
<section id="multiple-linear-regression" class="title-slide slide level1 center">
<h1>Multiple Linear Regression</h1>

</section>
<section id="multiple-linear-regression-1" class="slide level2">
<h2>Multiple Linear Regression</h2>
<ul>
<li>Response: <span class="math inline">\(Y\)</span></li>
<li>Predictor Variables: <span class="math inline">\(X_1, X_2, \ldots, X_p\)</span></li>
<li>Assume true relationship:</li>
</ul>
<p><span class="math display">\[
\begin{aligned}
Y&amp;=f(\mathbf{X}) + \epsilon\\
&amp;=\beta_0 + \beta_1 X_1 + \beta_2 X_2 + \ldots + \beta_p X_p + \epsilon
\end{aligned}
\]</span> where <span class="math inline">\(\beta_j\)</span> quantifies the association between the <span class="math inline">\(j^{th}\)</span> predictor and the response.</p>
</section>
<section id="multiple-linear-regression-estimating-parameters" class="slide level2 smaller">
<h2><span class="r-fit-text">Multiple Linear Regression: Estimating Parameters</span></h2>
<ul>
<li>Suppose <span class="math inline">\(\hat{\beta}_0, \hat{\beta}_1, \ldots, \hat{\beta}_p\)</span> are estimates of <span class="math inline">\(\beta_0, \beta_1, \ldots, \beta_p\)</span></li>
<li>Training Data:
<ul>
<li>Observed response: <span class="math inline">\(y_i\)</span> for <span class="math inline">\(i=1,\ldots,n\)</span></li>
<li>Observed predictors: <span class="math inline">\(x_{1i}, x_{2i}, \ldots x_{pi}\)</span> for <span class="math inline">\(i=1,\ldots, n\)</span></li>
</ul></li>
<li>Predicted response: <span class="math display">\[\hat{y}_i = \hat{\beta}_0 + \hat{\beta}_1x_{1i} + \ldots + \hat{\beta}_px_{pi} \text{ for } i=1, \ldots, n\]</span></li>
<li>Residuals: <span class="math inline">\(e_i = \hat{y}_i - y_i\)</span> for <span class="math inline">\(i=1, \ldots, n\)</span></li>
<li>Mean Squared Error (MSE): <span class="math inline">\(MSE =\dfrac{e^2_1+e^2_2+\ldots+e^2_n}{n}\)</span></li>
</ul>
</section>
<section id="multiple-linear-regression-estimating-parameters-1" class="slide level2">
<h2><span class="r-fit-text">Multiple Linear Regression: Estimating Parameters</span></h2>
<ul>
<li><strong>Goal:</strong> Use <em>training data</em> to find <span class="math inline">\(\hat{\beta}_0, \hat{\beta}_1, \ldots, \hat{\beta}_p\)</span> that minimizes MSE
<ul>
<li><span class="math inline">\(\hat{\beta}_i\)</span>’s called <strong>least-squares estimators</strong></li>
<li>Since minimizing MSE <span class="math inline">\(\implies\)</span> MSE is called <strong>cost/loss function</strong></li>
</ul></li>
<li>Can use calculus or gradient descent to find <span class="math inline">\(\hat{\beta}_i\)</span>’s</li>
</ul>
</section>
<section id="house-prices-dataset" class="slide level2 smaller">
<h2>House Prices dataset</h2>
<ul>
<li><code>size</code> is in square feet</li>
<li><code>num_bedrooms</code> is a count</li>
<li><code>price</code> is in $1,000’s</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a></a>house_prices <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"../data/house_prices.rds"</span>)   <span class="co"># load dataset</span></span>
<span id="cb10-2"><a></a><span class="fu">head</span>(house_prices, <span class="dv">6</span>) <span class="sc">|&gt;</span> <span class="fu">kable</span>()  <span class="co"># print first 6 observations</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: right;">size</th>
<th style="text-align: right;">num_bedrooms</th>
<th style="text-align: right;">price</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">2104</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">399.9</td>
</tr>
<tr class="even">
<td style="text-align: right;">1600</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">329.9</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2400</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">369.0</td>
</tr>
<tr class="even">
<td style="text-align: right;">1416</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">232.0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3000</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">539.9</td>
</tr>
<tr class="even">
<td style="text-align: right;">1985</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">299.9</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="multiple-linear-regression-2" class="slide level2">
<h2>Multiple Linear Regression</h2>
<p>Some Exploratory Data Analysis (EDA)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a></a><span class="fu">library</span>(GGally)</span>
<span id="cb11-2"><a></a><span class="fu">ggpairs</span>(<span class="at">data =</span> house_prices)   <span class="co"># correlation plot</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="04-MultipleRegression_files/figure-revealjs/unnamed-chunk-9-1.png" width="960" class="r-stretch"></section>
<section id="multiple-linear-regression-in-r" class="slide level2 smaller">
<h2>Multiple Linear Regression in R</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a></a>mlr_model <span class="ot">&lt;-</span> <span class="fu">linear_reg</span>() <span class="sc">|&gt;</span> </span>
<span id="cb12-2"><a></a>  <span class="fu">set_engine</span>(<span class="st">"lm"</span>)</span>
<span id="cb12-3"><a></a></span>
<span id="cb12-4"><a></a>house_price_mlr <span class="ot">&lt;-</span> mlr_model <span class="sc">|&gt;</span> </span>
<span id="cb12-5"><a></a>  <span class="fu">fit</span>(price <span class="sc">~</span> size <span class="sc">+</span> num_bedrooms, <span class="at">data =</span> house_prices)   <span class="co"># fit the model</span></span>
<span id="cb12-6"><a></a></span>
<span id="cb12-7"><a></a>house_price_mlr <span class="sc">|&gt;</span> </span>
<span id="cb12-8"><a></a>  <span class="fu">tidy</span>() <span class="sc">|&gt;</span>   <span class="co"># produce result summaries of the model</span></span>
<span id="cb12-9"><a></a>  <span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;">term</th>
<th style="text-align: right;">estimate</th>
<th style="text-align: right;">std.error</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">89.5977660</td>
<td style="text-align: right;">41.7674230</td>
<td style="text-align: right;">2.1451591</td>
<td style="text-align: right;">0.0374991</td>
</tr>
<tr class="even">
<td style="text-align: left;">size</td>
<td style="text-align: right;">0.1392106</td>
<td style="text-align: right;">0.0147951</td>
<td style="text-align: right;">9.4092391</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">num_bedrooms</td>
<td style="text-align: right;">-8.7379154</td>
<td style="text-align: right;">15.4506975</td>
<td style="text-align: right;">-0.5655353</td>
<td style="text-align: right;">0.5745825</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="multiple-linear-regression-interpreting-parameters" class="slide level2 smaller">
<h2><span class="r-fit-text">Multiple Linear Regression: Interpreting Parameters</span></h2>
<ul>
<li><span class="math inline">\(\hat{\beta}_0=89.5978\)</span>: The intercept <span class="math inline">\(\implies\)</span> a house with 0 square feet and 0 bedrooms would cost approximately $89,598.80. Is this meaningful in context? <span class="fragment fade-in">Not really</span></li>
<li><span class="math inline">\(\hat{\beta}_1=0.1392\)</span>: With <code>num_bedrooms</code> remaining fixed, an additional 1 square foot of <code>size</code> leads to an increase in <code>price</code> by approximately $139.20.</li>
<li><span class="math inline">\(\hat{\beta}_2=-8.7379\)</span>: With <code>size</code> remaining fixed, an additional bedroom leads to an decrease in <code>price</code> of approximately $8,737.90.</li>
</ul>
<div class="fragment">
<ul>
<li>Hmm…. that’s a little weird…</li>
<li><strong>Simpson’s Paradox:</strong> when relationship between two variables disappears or reverses when controlling for a third, <strong>confounding variable</strong></li>
</ul>
</div>
</section>
<section id="multiple-linear-regression-interpreting-parameters-1" class="slide level2">
<h2><span class="r-fit-text">Multiple Linear Regression: Interpreting Parameters</span></h2>
<div>
<ul>
<li class="fragment">Write down our model in mathematical notation</li>
<li class="fragment"><span class="math inline">\(\text{price} = 89.5978 + 0.1392\times\text{size} - 8.7379\times\text{num_bedrooms}\)</span></li>
<li class="fragment"><span class="math inline">\(Y = 89.5978 + 0.1392X_1 - 8.7379X_2\)</span></li>
</ul>
</div>
</section>
<section id="multiple-linear-regression-prediction" class="slide level2 smaller">
<h2>Multiple Linear Regression: Prediction</h2>
<ul>
<li>Prediction of <code>price</code> when <code>size</code> is 2000 square feet for a house with 3 bedrooms</li>
<li><span class="math inline">\(\text{sales} = 89.5978 + 0.1392\times2000 - 8.7379\times3 = 341.7841\)</span></li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a></a><span class="fu">predict</span>(house_price_mlr, <span class="at">new_data =</span> <span class="fu">tibble</span>(<span class="at">size =</span> <span class="dv">2000</span>, <span class="at">num_bedrooms =</span> <span class="dv">3</span>))   <span class="co"># obtain prediction</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  .pred
  &lt;dbl&gt;
1  342.</code></pre>
</div>
</div>
<ul>
<li>Why don’t these match exactly? <span class="fragment fade-in"><strong>rounding</strong></span></li>
</ul>
</div>
</section>
<section id="linear-regression-comparing-models" class="slide level2 smaller">
<h2>Linear Regression: Comparing Models</h2>
<div class="fragment">
<div>
<ul>
<li class="fragment">Many methods for comparing regression models from your regression course</li>
<li class="fragment">Today: Data splitting</li>
<li class="fragment">First: New Data</li>
</ul>
</div>
</div>
<div class="fragment">
<ul>
<li><strong>ames housing data</strong>
<ul>
<li>Many variables</li>
<li>Focus on:
<ul>
<li><code>Sale_Price</code>: in dollars</li>
<li><code>Gr_Liv_Area</code>: size in square feet</li>
<li><code>Bedroom_AbvGr</code>: number of bedrooms above grade</li>
</ul></li>
</ul></li>
</ul>
</div>
</section>
<section id="comparing-models-data-splitting" class="slide level2 smaller">
<h2>Comparing Models: Data Splitting</h2>
<ul>
<li>Split <code>ames</code> data set into two parts
<ul>
<li>Training set: randomly selected proportion <span class="math inline">\(p\)</span> (typically 50-90%) of data used for fitting model</li>
<li>Test set: randomly selected proportion <span class="math inline">\(1-p\)</span> of data used for estimating prediction error</li>
</ul></li>
<li>If comparing A LOT of models, split into <em>three</em> parts to prevent <strong>information leakage</strong>
<ul>
<li>Training set: randomly selected proportion <span class="math inline">\(p\)</span> (typically 50-90%) of data used for fitting model</li>
<li>Validation set: randomly selected proportion <span class="math inline">\(q\)</span> (typically 20-30%) of data used to choosing tuning parameters</li>
<li>Test set: randomly selected proportion <span class="math inline">\(1-p-q\)</span> of data used for estimating prediction error</li>
</ul></li>
<li>Idea: use data your model hasn’t seen to get more accurate estimate of error and prevent overfitting</li>
</ul>
</section>
<section id="comparing-models-data-splitting-with-tidymodels" class="slide level2 smaller">
<h2>Comparing Models: Data Splitting with <code>tidymodels</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a></a><span class="fu">set.seed</span>(<span class="dv">427</span>) <span class="co"># Why?</span></span>
<span id="cb15-2"><a></a></span>
<span id="cb15-3"><a></a>ames_split <span class="ot">&lt;-</span> <span class="fu">initial_split</span>(ames, <span class="at">prop =</span> <span class="fl">0.70</span>, <span class="at">strata =</span> Sale_Price) <span class="co"># initialize 70/30</span></span>
<span id="cb15-4"><a></a>ames_split</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;Training/Testing/Total&gt;
&lt;2049/881/2930&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a></a>ames_train <span class="ot">&lt;-</span> <span class="fu">training</span>(ames_split) <span class="co"># get training data</span></span>
<span id="cb17-2"><a></a>ames_test <span class="ot">&lt;-</span> <span class="fu">testing</span>(ames_split) <span class="co"># get test data</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><code>strata</code> not necessary but good practice
<ul>
<li><code>strata</code> will use <em>stratified sampling</em> on the variable you specify (very little downside)</li>
</ul></li>
</ul>
</section>
<section id="linear-regression-comparing-models-1" class="slide level2 smaller">
<h2>Linear Regression: Comparing Models</h2>
<ul>
<li>Let’s create three models with <code>Sale_Price</code> as the response:
<ul>
<li><strong>fit1</strong>: a linear regression model with <code>Bedroom_AbvGr</code> as the only predictor</li>
<li><strong>fit2</strong>: a linear regression model with <code>Gr_Liv_Area</code> as the only predictor</li>
<li><strong>fit3</strong> (similar to model in previous slides): a multiple regression model with <code>Gr_Liv_Area</code> and <code>Bedroom_AbvGr</code> as predictors</li>
<li><strong>fit4</strong>: super flexible model which fits a 10th degree polynomial to <code>Gr_Liv_Area</code> and a 2nd degree polynomial to <code>Bedroom_AbvGr</code></li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a></a>fit1 <span class="ot">&lt;-</span> mlr_model <span class="sc">|&gt;</span> <span class="fu">fit</span>(Sale_Price <span class="sc">~</span> Bedroom_AbvGr, <span class="at">data =</span> ames_train) <span class="co"># Use only training set</span></span>
<span id="cb18-2"><a></a>fit2 <span class="ot">&lt;-</span> mlr_model <span class="sc">|&gt;</span> <span class="fu">fit</span>(Sale_Price <span class="sc">~</span> Gr_Liv_Area, <span class="at">data =</span> ames_train)</span>
<span id="cb18-3"><a></a>fit3 <span class="ot">&lt;-</span> mlr_model <span class="sc">|&gt;</span> <span class="fu">fit</span>(Sale_Price <span class="sc">~</span> Gr_Liv_Area <span class="sc">+</span> Bedroom_AbvGr, <span class="at">data =</span> ames_train)</span>
<span id="cb18-4"><a></a>fit4 <span class="ot">&lt;-</span> mlr_model <span class="sc">|&gt;</span> <span class="fu">fit</span>(Sale_Price <span class="sc">~</span> <span class="fu">poly</span>(Gr_Liv_Area, <span class="at">degree =</span> <span class="dv">10</span>) <span class="sc">+</span> <span class="fu">poly</span>(Bedroom_AbvGr, <span class="at">degree =</span> <span class="dv">2</span>), <span class="at">data =</span> ames_train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="computing-mse" class="slide level2 smaller">
<h2>Computing MSE</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a></a><span class="co"># Fit 1</span></span>
<span id="cb19-2"><a></a>fit1_train_mse <span class="ot">&lt;-</span> <span class="fu">mean</span>((ames_train<span class="sc">$</span>Sale_Price <span class="sc">-</span> <span class="fu">predict</span>(fit1, <span class="at">new_data =</span> ames_train)<span class="sc">$</span>.pred)<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb19-3"><a></a>fit1_test_mse <span class="ot">&lt;-</span> <span class="fu">mean</span>((ames_test<span class="sc">$</span>Sale_Price <span class="sc">-</span> <span class="fu">predict</span>(fit1, <span class="at">new_data =</span> ames_test)<span class="sc">$</span>.pred)<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb19-4"><a></a></span>
<span id="cb19-5"><a></a><span class="co"># Fit 2</span></span>
<span id="cb19-6"><a></a>fit2_train_mse <span class="ot">&lt;-</span> <span class="fu">mean</span>((ames_train<span class="sc">$</span>Sale_Price <span class="sc">-</span> <span class="fu">predict</span>(fit2, <span class="at">new_data =</span> ames_train)<span class="sc">$</span>.pred)<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb19-7"><a></a>fit2_test_mse <span class="ot">&lt;-</span> <span class="fu">mean</span>((ames_test<span class="sc">$</span>Sale_Price <span class="sc">-</span> <span class="fu">predict</span>(fit2, <span class="at">new_data =</span> ames_test)<span class="sc">$</span>.pred)<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb19-8"><a></a></span>
<span id="cb19-9"><a></a><span class="co"># Fit </span></span>
<span id="cb19-10"><a></a>fit3_train_mse <span class="ot">&lt;-</span> <span class="fu">mean</span>((ames_train<span class="sc">$</span>Sale_Price <span class="sc">-</span> <span class="fu">predict</span>(fit3, , <span class="at">new_data =</span> ames_train)<span class="sc">$</span>.pred)<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb19-11"><a></a>fit3_test_mse <span class="ot">&lt;-</span> <span class="fu">mean</span>((ames_test<span class="sc">$</span>Sale_Price <span class="sc">-</span> <span class="fu">predict</span>(fit3, <span class="at">new_data =</span> ames_test)<span class="sc">$</span>.pred)<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb19-12"><a></a></span>
<span id="cb19-13"><a></a><span class="co"># Fit </span></span>
<span id="cb19-14"><a></a>fit4_train_mse <span class="ot">&lt;-</span> <span class="fu">mean</span>((ames_train<span class="sc">$</span>Sale_Price <span class="sc">-</span> <span class="fu">predict</span>(fit4, , <span class="at">new_data =</span> ames_train)<span class="sc">$</span>.pred)<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb19-15"><a></a>fit4_test_mse <span class="ot">&lt;-</span> <span class="fu">mean</span>((ames_test<span class="sc">$</span>Sale_Price <span class="sc">-</span> <span class="fu">predict</span>(fit4, <span class="at">new_data =</span> ames_test)<span class="sc">$</span>.pred)<span class="sc">^</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="question-1" class="slide level2">
<h2><span style="color:blue">Question</span></h2>
<p>Without looking at the numbers</p>
<ol type="1">
<li>Do we know which of the following is the smallest: <code>fit1_train_mse</code>, <code>fit2_train_mse</code>, <code>fit3_train_mse</code>, <code>fit4_train_mse</code>? <span class="fragment fade-in">Yes, <code>fit4_train_mse</code></span></li>
<li>Do we know which of the following is the smallest: <code>fit1_test_mse</code>, <code>fit2_test_mse</code>, <code>fit3_test_mse</code>, <code>fit4_test_mse</code>? <span class="fragment fade-in">No</span></li>
</ol>
</section>
<section id="choosing-a-model" class="slide level2 smaller">
<h2>Choosing a Model</h2>
<div class="columns">
<div class="column">
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a></a><span class="co"># Training Errors</span></span>
<span id="cb20-2"><a></a><span class="fu">c</span>(fit1_train_mse, fit2_train_mse, </span>
<span id="cb20-3"><a></a>  fit3_train_mse, fit4_train_mse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6213135279 3188099910 2781293767 2472424544</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a></a><span class="fu">which.min</span>(<span class="fu">c</span>(fit1_train_mse, fit2_train_mse, </span>
<span id="cb22-2"><a></a>            fit3_train_mse, fit4_train_mse))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a></a><span class="co"># test Errors</span></span>
<span id="cb24-2"><a></a><span class="fu">c</span>(fit1_test_mse, fit2_test_mse, </span>
<span id="cb24-3"><a></a>  fit3_test_mse, fit4_test_mse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6.329031e+09 3.203895e+09 2.732389e+09 2.726084e+12</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a></a><span class="fu">which.min</span>(<span class="fu">c</span>(fit1_test_mse, fit2_test_mse, </span>
<span id="cb26-2"><a></a>            fit3_test_mse, fit4_test_mse))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
</div><div class="column">
<ul>
<li><code>fit4</code> has the lowest training MSE (to be expected)</li>
<li><code>fit3</code> has the lowest test MSE
<ul>
<li>We would choose <code>fit3</code></li>
</ul></li>
<li>Anything else interesting we see?</li>
</ul>
</div></div>


</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="../images/logo.png" class="slide-logo"></p>
<div class="footer footer-default">
<p><a href="https://mat427sp25.netlify.app/schedule">🔗 MAT 427 - Spring 2025 - Schedule</a></p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    

    <script>

      // htmlwidgets need to know to resize themselves when slides are shown/hidden.

      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current

      // slide changes (different for each slide format).

      (function () {

        // dispatch for htmlwidgets

        function fireSlideEnter() {

          const event = window.document.createEvent("Event");

          event.initEvent("slideenter", true, true);

          window.document.dispatchEvent(event);

        }

    

        function fireSlideChanged(previousSlide, currentSlide) {

          fireSlideEnter();

    

          // dispatch for shiny

          if (window.jQuery) {

            if (previousSlide) {

              window.jQuery(previousSlide).trigger("hidden");

            }

            if (currentSlide) {

              window.jQuery(currentSlide).trigger("shown");

            }

          }

        }

    

        // hookup for slidy

        if (window.w3c_slidy) {

          window.w3c_slidy.add_observer(function (slide_num) {

            // slide_num starts at position 1

            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);

          });

        }

    

      })();

    </script>

    

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp("https:\/\/mat427sp25\.netlify\.app\/");
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>